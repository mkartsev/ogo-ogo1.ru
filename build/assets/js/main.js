/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e,t={1669:e=>{e.exports=jQuery},7386:(e,t,s)=>{var o=s(8748),n=s(197),i=s(7059),a=s(4504);const r=function(){document.addEventListener("click",(e=>{let t=e.target.closest("[data-scroll-to]");if(t){let s=t.getAttribute("href")||t.getAttribute("data-scroll-to");if(s){const e=document.querySelector(s);if(e){const s=parseInt(t.getAttribute("data-scroll-offset"),10)||0,o=e.getBoundingClientRect().top+window.scrollY-s;window.scrollTo({top:o,behavior:"smooth"})}}e.preventDefault()}}))},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,s=arguments.length>2?arguments[2]:void 0;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),"function"==typeof s&&s()}),t)},c=(()=>{let e,t,s=!!document.querySelector&&!!window.addEventListener,o={speed:250,single:!1,initClass:"js-accordion",itemClass:"js-accordion-item",headerClass:"js-accordion-header",bodyClass:"js-accordion-body",activeClass:"is-active"};function n(e,t,s){if("[object Object]"===Object.prototype.toString.call(e))for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(s,e[o],o,e);else for(let o=0,n=e.length;o<n;o++)t.call(s,e[o],o,e)}function i(t){let s=t.closest(`.${e.itemClass}`),o=t.nextElementSibling;s.hasAttribute("disabled")||(e.single&&n(s.closest(`.${e.initClass}`).querySelectorAll(`.${e.itemClass}.${e.activeClass}`),(function(t){t!==s&&(t.classList.remove(e.activeClass),l(t.querySelector(`.${e.bodyClass}`),e.speed,(function(){})))})),s.classList.toggle(e.activeClass),s.classList.contains(e.activeClass)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,s=arguments.length>2?arguments[2]:void 0;e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;const n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),"function"==typeof s&&s()}),t)}(o,e.speed,(function(){})):l(o,e.speed,(function(){})))}return{init:function a(r){s&&(n(document.querySelectorAll(`.${o.initClass}`),(function(t){if(t.hasAttribute("data-initialized"))return;let s=function(e){let t={};return[...e.attributes].forEach((function(e){if(0===e.name.indexOf("data-")){let s=e.name.slice(5).replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()})),o=e.value;""===o?o=!0:"true"===o||"false"===o?o="true"===o:isNaN(o)||(o=parseInt(o,10)),t[s]=o}})),t}(t);e=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];return s.forEach((function(t){for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})),e}({},o,r,s),t.classList.add(e.initClass),t.setAttribute("data-initialized","true"),n(t.querySelectorAll(`.${e.headerClass}`),(function(t){let s=t.closest(`.${e.itemClass}`);s.hasAttribute("disabled")||t.setAttribute("tabindex",0),t.addEventListener("click",(function(){s.hasAttribute("disabled")||i(t)})),t.addEventListener("keydown",(function(e){32!=e.keyCode&&13!=e.keyCode||s.hasAttribute("disabled")||(e.preventDefault(),i(t))}))}));let a=t.querySelectorAll(`.${e.itemClass}.${e.activeClass}`);n(a,(function(t){let s=t.querySelector(`.${e.bodyClass}`);s.style.display="block",e.single&&a.length>1&&(t.classList.remove(e.activeClass),s.style.display="none")})),e.single&&a.length>1&&(a[0].classList.add(e.activeClass),a[0].querySelector(`.${e.bodyClass}`).style.display="block")})),s&&(t=new MutationObserver((e=>{for(let t of e)if("childList"===t.type)for(let e of t.addedNodes)1===e.nodeType&&e.matches(`.${o.initClass}`)&&a({observeDynamicChanges:!1})})),t.observe(document.body,{childList:!0,subtree:!0})))},destroy:function(){e&&(n(document.querySelectorAll(`.${o.initClass}`),(function(t){t.classList.contains(o.initClass)&&(t.classList.remove(e.initClass),t.removeAttribute("data-initialized"))})),n(document.querySelectorAll(`.${o.headerClass}`),(function(e){e.removeAttribute("tabindex"),e.removeEventListener("click",(function(){i(e)})),e.removeEventListener("keydown",(function(){i(e)}))})),e=null,t&&t.disconnect())}}})();var d=s(7736);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;return new Promise(((n,i)=>{let a={method:t,headers:{"X-Requested-With":"XMLHttpRequest"}};if("GET"===t.toUpperCase()){if(s){let t;t=s instanceof URLSearchParams?s.toString():new URLSearchParams(s).toString(),e=`${e}?${t}`}}else if("POST"===t.toUpperCase())if(s instanceof FormData)a.body=s;else if(s){let e;e=s instanceof URLSearchParams?s.toString():new URLSearchParams(s).toString(),a.body=e,a.headers["Content-Type"]="application/x-www-form-urlencoded"}const r=new AbortController,l=setTimeout((()=>{r.abort(),i(new Error("Ошибка: Время ожидания истекло",{cause:{code:"Timeout exceeded",value:o}}))}),o);a.signal=r.signal,fetch(e,a).then((e=>{if(clearTimeout(l),!e.ok)return i(new Error(`Ошибка: ${e.status} ${e.statusText}`));const t=e.headers.get("Content-Type");return t&&(t.includes("application/json")||t.includes("text/json"))?e.json().then(n):e.text().then(n)})).catch((e=>{clearTimeout(l),console.error(e),i(e)}))}))}var p=s(2603);function m(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sm";if(!e)return;const n=e.querySelector("svg"),i=e.querySelector("use");if(i)e.hasAttribute("data-original-icon")||e.setAttribute("data-original-icon",i.getAttribute("xlink:href").split("#")[1]),i.setAttribute("xlink:href",`/assets/img/sprites/sprite.svg#${t}`),s&&n.classList.add(s);else{const n=`<svg class='svg-icon svg-icon--${o} ${s}'><use xlink:href='/assets/img/sprites/sprite.svg#${t}'></use></svg>`;e.insertAdjacentHTML("afterbegin",n)}}function h(e){if(!e)return;const t=e.querySelector("svg"),s=e.querySelector("use"),o=e.getAttribute("data-original-icon");t&&(o&&""!=o?s.setAttribute("xlink:href",`/assets/img/sprites/sprite.svg#${o}`):t.remove(),t.setAttribute("class","svg-icon svg-icon--sm"))}const g={PANUP:"Сдвинуть вверх",PANDOWN:"Сдвинуть вниз",PANLEFT:"Сдвинуть влево",PANRIGHT:"Сдвинуть вправо",ZOOMIN:"Увеличить масштаб",ZOOMOUT:"Уменьшить масштаб",TOGGLEZOOM:"Переключить масштаб",TOGGLE1TO1:"Переключить масштаб",ITERATEZOOM:"Переключить масштаб",ROTATECCW:"Повернуть против часовой",ROTATECW:"Повернуть по часовой",FLIPX:"Перевернуть по горизонтали",FLIPY:"Перевернуть по вертикали",FITX:"Поместить горизонтально",FITY:"Поместить вертикально",RESET:"Сброс",TOGGLEFS:"Полноэкранный режим",CLOSE:"Закрыть",NEXT:"Следующий",PREV:"Предыдущий",MODAL:"Можно закрыть окно кнопкой ESC",ERROR:"Что-то пошло не так, попробуйте позднее",IMAGE_ERROR:"ИЗображение не найдено",ELEMENT_NOT_FOUND:"HTML элемент не найден",AJAX_NOT_FOUND:"Ошибка AJAX: Не найдено",AJAX_FORBIDDEN:"Ошибка AJAX: Доступ запрещен",IFRAME_ERROR:"Ошибка загрузки страницы",TOGGLE_ZOOM:"Переключить масштаб",TOGGLE_THUMBS:"Переключить миниатуюры",TOGGLE_SLIDESHOW:"Слайдшоу",TOGGLE_FULLSCREEN:"Полноэкранный режим",DOWNLOAD:"Загрузить"};var f=s(5836),y=s(4386),b=s(1576);const v={init:function(){document.querySelectorAll(".js-datepicker").forEach((e=>{void 0===e.datepicker&&(e=>{let t=e.value?function(e){let t,s,o;return[o,s,t]=e.split("."),t+"-"+s+"-"+o}(e.value):new Date,s=window.matchMedia("(pointer:coarse)").matches;new f.A(e,{locale:y,autoClose:!0,isMobile:s,startDate:t,selectedDates:e.value?[t]:[],position(e){let{$datepicker:t,$target:s,$pointer:o,done:n}=e,i=(0,b.n4)(s,t,{placement:"bottom",modifiers:[{name:"flip",options:{padding:{top:64}}},{name:"offset",options:{offset:[0,20]}},{name:"arrow",options:{element:o}}]});return function(){i.destroy(),n()}},onSelect(){e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0}))}}),e.datepicker})(e)}))}};class w{constructor(e,t){this.element=e,this.defaults={baseClass:"file-input",buttonCaption:"Выбрать…",removeCaption:"Удалить",multipleText:"{0} файлов",showMultipleNames:!1,buttonClass:"btn btn-secondary",selectedClass:"file-input__name",clearButton:"<button type='button' class='file-input__clear'>&times</button>",onInit:function(){}},this.settings=this.extend(this.defaults,t||{}),this.component=null,this.input=null,this.filename=null,this.addButton=null,this.removeButton=null,this.init()}supports(){return"querySelector"in document&&"addEventListener"in window&&"closest"in window.Element.prototype}extend(e,t){for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}createComponent(){this.input=this.element,this.component=document.createElement("div"),this.component.classList.add(`${this.settings.baseClass}__wrapper`),this.input.parentNode.insertBefore(this.component,this.input),this.addButton=document.createElement("label"),this.addButton.classList.add(`${this.settings.baseClass}__label`),this.addButton.htmlFor=this.input.id,this.addButton.innerText=this.settings.buttonCaption,this.removeButton=document.createElement("button"),this.removeButton.setAttribute("type","button"),this.removeButton.classList.add(`${this.settings.baseClass}__remove`,"hidden"),this.removeButton.innerText=this.settings.removeCaption,this.input.setAttribute("tabindex","-1"),this.component.prepend(this.input),this.component.prepend(this.addButton),this.component.prepend(this.removeButton),this.component.classList.add("is-initialized")}change(){if(this.filename||(this.filename=document.createElement("label"),this.filename.htmlFor=this.input.id,this.filename.classList.add("my-1","hidden"),this.component.prepend(this.filename)),0===this.input.files.length)this.component.classList.remove("has-selected"),this.addButton.classList.remove("hidden"),this.removeButton.classList.add("hidden"),this.filename.classList.add("hidden");else{for(var e=0;e<this.input.files.length;e++)this.filename.textContent=this.input.files[e].name;this.addButton.classList.add("hidden"),this.removeButton.classList.remove("hidden"),this.filename.classList.remove("hidden"),this.component.classList.add("has-selected")}}clear(){this.input.value=null,this.input.dispatchEvent(new Event("input",{bubbles:!0})),this.input.dispatchEvent(new Event("change",{bubbles:!0})),this.component.classList.remove("has-selected"),this.addButton.classList.remove("hidden"),this.removeButton.classList.add("hidden"),this.filename.classList.add("hidden"),this.change()}dataToOptions(e){function t(e,t){return t.toUpper()}let s={},o=Object.assign({},e.dataset);for(let e in o){if(!Object.prototype.hasOwnProperty.call(o,e))continue;let n=o[e];"yes"===n||"y"===n?n=!0:"no"!==n&&"n"!==n||(n=!1),s[e.replace(/-(\w)/g,t)]=n}return s}applyDataAttributes(){this.settings=this.extend(this.settings,this.dataToOptions(this.element))}inputEvents(e){this.change()}removeEvents(e){"click"===e.type&&this.clear()}resetEvents(e){this.clear()}bindHandlers(){this.removeButton.addEventListener("click",this.removeEvents.bind(this),!0),this.input.addEventListener("input",this.inputEvents.bind(this),!0);const e=this.input.closest("form");e&&e.addEventListener("reset",this.resetEvents.bind(this),!0)}destroy(){if(this.element.isInitialized){for(;this.component.lastElementChild;)this.component.removeChild(this.component.lastElementChild);this.element.isInitialized=!1,this.component=null,this.settings=null}}init(){if(!this.supports())throw"FilePlugin: This browser does not support the required JavaScript methods and browser APIs.";if(!this.element.isInitialized){if(this.destroy(),"string"==typeof this.element?this.component=document.querySelector(this.element):"object"==typeof this.element&&(this.component=this.element),!this.component)throw"FilePlugin: Does not found a component wrapper/element!";this.applyDataAttributes(),this.createComponent(),this.bindHandlers(),this.element.isInitialized=!0,this.component&&this.component.classList.add("is-initialized"),this.settings.onInit()}}}const _={init:function(){const e=document.querySelectorAll(".js-input-file");e.length>0&&e.forEach(((e,t)=>{new w(e,t)}))}},L=(()=>{const e=".field__show-password";let t={initialized:!1};return{init:function(){t.initialized||(document.addEventListener("click",(t=>{const s=t.target.closest(e);s&&(t.preventDefault(),function(e){if(!e)return;const t=e.closest(".field--type-password").querySelector("input");t&&("password"==t.getAttribute("type")?t.setAttribute("type","text"):t.setAttribute("type","password"))}(s))})),t.initialized=!0)}}})(),E=(()=>{let e={initialized:!1};const t=function(e){return e.value.replace(/\D/g,"")},s=function(e){let s=e.target.closest("input[type='tel']");if(!s)return;let o=t(s);if("paste"===e.type){let t=e.clipboardData||window.clipboardData;if(t){let e=t.getData("Text");if(/\D/g.test(e))return void(s.value=o)}}if("input"===e.type){let o=t(s),n=e.target.selectionStart,i="";if(!o)return s.value="";if(s.value.length!=n)return void(e.data&&/\D/g.test(e.data)&&(s.value=o));if(["7","8","9"].indexOf(o[0])>-1){"9"==o[0]&&(o="7"+o);let e="+7";i=s.value=e+" ",o.length>1&&(i+="("+o.substring(1,4)),o.length>=5&&(i+=") "+o.substring(4,7)),o.length>=8&&(i+="-"+o.substring(7,9)),o.length>=10&&(i+="-"+o.substring(9,11))}else i="+"+o.substring(0,16);s.value=i}if("keydown"===e.type){let t=s.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(s.value="")}};return{init:function(){e.initialized||(document.body.addEventListener("keydown",s),document.body.addEventListener("input",s,!1),document.body.addEventListener("paste",s,!1),e.initialized=!0)}}})(),S=(()=>{let e={inputSyncListener:!1,inputNumbersListener:!1,formatBySpaces:!1};const t=e=>{let t=e.target.closest("[data-sync-value-to]");if(!t)return;let s=document.querySelector(t.getAttribute("data-sync-value-to"));s&&("paste"!==e.type&&"input"!==e.type&&"keydown"!==e.type||(s.value=t.value))},s=e=>{const t=e.target.closest(".js-input-numbers");if(!t)return;const s=t.value.replace(/[^\d.,]/g,"").replace(",",".").replace(/(\..*)\./g,"$1"),o=s.indexOf(".");if(-1!==o){const e=s.slice(0,o),n=s.slice(o+1,o+3);t.value=`${e}.${n}`}else t.value!==s&&(t.value=s)};return{init:function(){v.init(),_.init(),E.init(),L.init(),!1===e.inputSyncListener&&(document.body.addEventListener("change",t),document.body.addEventListener("keydown",t),document.body.addEventListener("input",t),document.body.addEventListener("paste",t),e.inputSyncListener=!0),!1===e.inputNumbersListener&&(document.body.addEventListener("change",s),document.body.addEventListener("keydown",s),document.body.addEventListener("input",s),document.body.addEventListener("paste",s),e.inputNumbersListener=!0)}}})();var k=s(1669),A=(s(960),s(9476)),T=s(7935);const q=(e,t)=>{let s;return function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];const a=this;clearTimeout(s),s=setTimeout((()=>e.apply(a,n)),t)}},x=(()=>{const e=".js-tooltip";function t(e){e._tippy||(0,a.Ay)(e,{allowHTML:!0,animation:"shift-away",theme:"ogo",delay:100,hideOnClick:!0,inertia:!0,maxWidth:250,offset:[0,16],trigger:"mouseenter",interactive:!1,interactiveBorder:30,touch:()=>!e.classList.contains("js-add-to-list")||["hold",20],content(e){const t=e.dataset.tooltipTitle,s=e.dataset.tooltipContent,o=e.dataset.tooltipHtml,n=e.dataset.tippyClose;if(o){const e=document.querySelector(o);if(e)return e.innerHTML}return(n?"<div class='tippy-close'></div>":"")+(t?"<div class='tippy-title'>"+t+"</div>":"")+(s||"")},appendTo:()=>document.body})}function s(){(0,a.cJ)()}function o(e){switch(e._tippy||t(e),e.getAttribute("data-action")){case"add":e.setAttribute("data-tooltip-content","В избранное"),e._tippy.setContent("В избранное");break;case"del":e.setAttribute("data-tooltip-content","Удалить из избранного"),e._tippy.setContent("Удалить из избранного")}}function n(e){switch(e._tippy||t(e),e.getAttribute("data-action")){case"ADD_TO_COMPARE_LIST":e.setAttribute("data-tooltip-content","В сравнение"),e._tippy.setContent("В сравнение");break;case"DELETE_FROM_COMPARE_LIST":e.setAttribute("data-tooltip-content","Удалить из сравнения"),e._tippy.setContent("Удалить из сравнения")}}return{init:function(){!function(){const o=document.querySelectorAll(e);o.length>0&&o.forEach((e=>{e._tippy||t(e)})),document.addEventListener("click",(e=>{e.target.closest(".tippy-close")&&(e.preventDefault(),s())}))}(),new MutationObserver((s=>{s.forEach((s=>{if(s.addedNodes.length){const o=Array.from(s.addedNodes).filter((t=>t.nodeType===Node.ELEMENT_NODE&&(t.matches(e)||t.querySelector(e))));o.length>0&&o.forEach((s=>{s.nodeType===Node.ELEMENT_NODE&&(s.matches(e)&&!s._tippy&&t(s),s.querySelectorAll(e).forEach((e=>{e._tippy||t(e)})))}))}}))})).observe(document.body,{childList:!0,subtree:!0}),window.tooltip=x},hide:s,setFavorite:o,setCompare:n,handleFavorite:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&e._tippy&&(e._tippy.hide(),t&&(o(e),setTimeout((()=>e._tippy.show()),100)))},handleCompare:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&e._tippy&&(e._tippy.hide(),t&&(n(e),setTimeout((()=>e._tippy.show()),100)))}}})(),M=x,O=(()=>{const e={addToList:".js-add-to-list"};async function t(e){try{const t=await u("/ajax/new/actionToList.php","POST",e);return await t}catch(e){d({text:e.message,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()}}function s(e,s,o){return new Proxy(e,{set(e,t,s,n){const i=Reflect.set(e,t,s,n);return o(n),i},get(e,n,i){switch(n){case"push":case"add":return async n=>{let a="comparison"===s?"ADD_TO_COMPARE_LIST":"add";const r=await t({id:n,list:s,action:a});"ok"===r.result&&(e.push(n),o(i)),"error"==r.result&&d({text:r.error,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 text-body bg-warning bg-gradient"}).showToast()};case"delete":case"remove":return async n=>{let a="comparison"===s?"DELETE_FROM_COMPARE_LIST":"del";const r=await t({id:n,list:s,action:a});if("ok"===r.result){const t=e.indexOf(n);t>-1&&(e.splice(t,1),o(i))}"error"==r.result&&d({text:r.error,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 text-body bg-warning bg-gradient"}).showToast()};case"length":return Array.isArray(e)?e.length:Object.keys(e).length;case"unique":return Array.isArray(e)?[...new Set(e)]:[...new Set(Object.values(e))];case"uniqueCount":return Array.isArray(e)?new Set(e).size:new Set(Object.values(e)).size;default:return Reflect.get(e,n,i)}}})}const o=s(window.CompareIDList,"comparison",(e=>{P.set(e.uniqueCount),a()})),n=s(window.FavoriteIDList,"favorites",(e=>{$.set(e.uniqueCount),r()})),i=q((function(e){if(!e)return;const t=e.getAttribute("data-id"),s=e.getAttribute("data-list"),i=e.getAttribute("data-action");let a=!0;switch(s){case"comparison":"ADD_TO_COMPARE_LIST"===i?o.add(t):o.remove(t),M.handleCompare(e,a);break;case"favorites":if("add"===i?n.add(t):n.remove(t),"/user/wishlist/"===window.location.pathname){const t=e.closest(".product-card");t&&t.remove(),a=!1}M.handleFavorite(e,a)}}),100);function a(){const t=document.querySelectorAll(e.addToList);t.length>0&&Array.from(t).filter((e=>"comparison"===e.getAttribute("data-list"))).forEach((e=>{o.includes(e.getAttribute("data-id"))?(e.setAttribute("data-action","DELETE_FROM_COMPARE_LIST"),e.dataset.text&&(e.dataset.text="В сравнении"),e.hasAttribute("data-static-icon")||m(e,"ui--comparison-fill")):(e.setAttribute("data-action","ADD_TO_COMPARE_LIST"),e.dataset.text&&(e.dataset.text="Сравнить"),e.hasAttribute("data-static-icon")||m(e,"ui--comparison")),M.setCompare(e)}))}function r(){const t=document.querySelectorAll(e.addToList);t.length>0&&Array.from(t).filter((e=>"favorites"===e.getAttribute("data-list"))).forEach((e=>{n.includes(e.getAttribute("data-id"))?(e.setAttribute("data-action","del"),e.dataset.text&&(e.dataset.text="В избранном"),e.hasAttribute("data-static-icon")||m(e,"ui--heart-fill")):(e.setAttribute("data-action","add"),e.dataset.text&&(e.dataset.text="В избранное"),e.hasAttribute("data-static-icon")||m(e,"ui--heart")),M.setFavorite(e)}))}function l(){a(),r()}return{init:function(){l(),document.addEventListener("click",(t=>{const s=t.target.closest(e.addToList);s&&(t.preventDefault(),i(s))}))},setButtons:l,comparison:o,favorites:n}})();class C{constructor(e){this.selector=e,this.counters=new Map,this.value=0,this.init(),this.observeDOM()}init(){this.counters.clear(),document.querySelectorAll(this.selector).forEach((e=>{this.counters.set(e,new Set),this.updateElement(e)}))}set(e){this.value=e,this.counters.forEach(((e,t)=>this.updateElement(t)))}get(){return this.value}updateElement(e){e.classList.toggle("hidden",0===this.value),e.textContent=this.value}destroy(){this.counters.clear(),this.observer&&this.observer.disconnect()}observeDOM(){const e=new MutationObserver((e=>{let t=!1;e.forEach((e=>{"childList"===e.type?(e.addedNodes.forEach((e=>{e instanceof HTMLElement&&e.matches(this.selector)&&(t=!0)})),e.removedNodes.forEach((e=>{e instanceof HTMLElement&&e.matches(this.selector)&&(t=!0)}))):"attributes"===e.type&&e.target.matches(this.selector)&&(t=!0)})),t&&this.init()}));e.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),this.observer=e}}const j=new C(".js-cart-counter"),P=new C(".js-compare-counter"),$=new C(".js-favorite-counter"),I=(()=>{const e={addToCart:".js-add-to-cart",removeFromCart:".js-remove-from-cart",clearCart:".js-clear-cart",dropdown:".js-cart-dropdown",accessories:".js-more-accessories"},t=(s=window.CartIDDict,o=e=>{j.set(e.total),l()},new Proxy(s,{set(e,t,s,n){const i=Reflect.set(e,t,s,n);return o(n),i},get(e,t,s){switch(t){case"total":return Object.values(e).reduce(((e,t)=>e+t),0);case"add":return t=>{e[t]=(e[t]||0)+1,o(s)};case"remove":return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e[t]?(e[t]<=n?delete e[t]:e[t]-=n,o(s)):console.warn(`ID ${t} не найден в объекте.`)};case"clear":return()=>{Object.keys(e).forEach((t=>delete e[t])),o(s)};default:return()=>Object.keys(e)}}}));var s,o;async function n(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];try{const r=await u("/ajax/new/addToCart.php","GET",{id:e,quantity:s});if("ok"===r.result){if(t.add(e),o){const t="Товар добавлен в корзину!",s=(e=>{var t;if(e)return`<div class="product-card product-card--added-to-cart">\n              <div class="product-card__image-wrapper">\n                <a class="product-card__image-link" href=${e.DETAIL_PAGE_URL}>\n                  <img class="product-card__image" src=${e.PREVIEW_PICTURE} alt=${e.NAME} loading="lazy">\n                </a>\n              </div>\n              <div class="product-card__caption">\n                <a class="product-card__title" href=${e.DETAIL_PAGE_URL} target="_blank">${e.NAME}</a>\n              </div>\n              <div class="product-card__price-wrapper">\n                <div class="product-card__price"><div class="product-card__price-current">${t=e.PRICE,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} ₽</div></div>\n              </div>\n            </div>`})(r.product[0]);let o="";if(n){const t=await u("/ajax/new/basketAdd.php","GET",{ACCESSORIES_AJAX:"Y",FILTER_ACCESSORIES:"",ELEMENT_ID:e});o="string"==typeof t?t:""}a(t,s,o)}return await i(),l(),O.setButtons(),{result:"ok"}}return o&&a("Произошла ошибка",`<p class="h2 my-4 text-center">${r.error}<p>`,""),{result:"error"}}catch(e){return console.error("Ошибка добавления товара:",e),{result:"error"}}}async function i(){const t=document.querySelector(e.dropdown);if(t)try{const e=await u("/ajax/new/refreshBasket.php","POST",{action:"refresh"});e.length>0&&(t.outerHTML=e,t.classList.toggle("active",t.classList.contains("active")))}catch(e){console.error("Ошибка обновления корзины:",e)}}function a(e,t,s){R.exist("popup-add-to-cart")?(r(e,t,s),R.visible()||R.show("popup-add-to-cart")):(R.create("popup-add-to-cart",e,null,"popup--lg"),r(e,t,s),R.show("popup-add-to-cart"))}function r(e,t,s){const o=document.getElementById("popup-add-to-cart");if(!o)return;let n=o.querySelector(".popup-content"),i=o.querySelector(".popup-title"),a=o.querySelector(".popup-buttons");i.classList.add("text-center"),i.innerText=e,a||n.insertAdjacentHTML("afterbegin",'<div class="popup-buttons d-flex justify-content-center align-items-center mb-4">\n                        <button class="btn btn-secondary me-3" type="button" data-fancybox-close>Продолжить покупки</button>\n                        <a class="btn btn-primary" href="/cart">Перейти в корзину</a>\n                      </div>');let r=n.querySelector("#added-product")||(()=>{const e=document.createElement("div");return e.id="added-product",e.classList.add("mb-4"),n.prepend(e),e})(),l=n.querySelector("#added-product-accessories")||(()=>{const e=document.createElement("div");return e.id="added-product-accessories",n.append(e),e})();r.innerHTML=t,"string"==typeof s&&(l.innerHTML=s)}function l(){const s=document.querySelectorAll(e.addToCart);s.length>0&&s.forEach((e=>{e.dataset.id in t?function(e){e&&(e.dataset.originalClasses||(e.dataset.originalClasses=e.className,e.dataset.originalText=e.innerText),e.classList.remove("disabled","btn-primary","btn-secondary","btn-tertiary","btn-info","btn-warning","btn-danger","btn-purple","btn-light","btn-dark"),e.classList.add("btn-success","is-active"),e.innerText="В корзине",m(e,"ui--check-sm"))}(e):function(e){e&&(e.dataset.originalClasses?(e.className=e.dataset.originalClasses,e.innerText=e.dataset.originalText,delete e.dataset.originalClasses,delete e.dataset.originalText):e.innerText="Купить",e.classList.remove("is-active","disabled"),m(e,"ui--shopping-cart-sm"))}(e)}))}const c=t=>{const s=t.target.closest(e.addToCart);if(s)if(t.preventDefault(),s.classList.contains("is-active")){const e="/cart";window.location.href=e}else{s.disabled=!0,s.classList.add("disabled"),m(s,"ui--spinner","spin");const e=s.dataset.id,t=s.dataset.quantity??1,o="false"!==s.dataset.accessories;(async()=>{try{"error"===(await n(e,t,!0,o)).result&&h(s)}finally{s.disabled=!1,s.classList.remove("disabled")}})()}},d=t=>{const s=t.target.closest(e.accessories);s&&(t.preventDefault(),s.disabled=!0,s.classList.add("disabled"),m(s,"ui--spinner","spin"),async function(e,t){const s=document.querySelector("#added-product-accessories");if(s)try{const o=await u("/ajax/new/basketAdd.php","GET",{ACCESSORIES_AJAX:"Y",FILTER_ACCESSORIES:"",ELEMENT_ID:e,PAGEN_1:t});"string"==typeof o?s.innerHTML=o:"object"==typeof o&&"error"===o.result?console.error("Ошибка загрузки аксессуаров:",o.error||"Неизвестная ошибка"):console.error("Неожиданный формат данных:",o)}catch(e){console.error("Ошибка загрузки аксессуаров:",e)}}(s.dataset.id,s.dataset.page).then((()=>{l(),O.setButtons()})).finally((()=>{s.disabled=!1,s.classList.remove("disabled"),h(s)})))};return{init:function(){document.addEventListener("click",c),document.addEventListener("click",d),l()},add:n,remove:t.remove,clear:t.clear,items:t,setButtons:l,refreshDropdown:i,unbindAddToCartHandler:function(){document.removeEventListener("click",c)},rebindAddToCartHandler:function(){document.addEventListener("click",c)}}})(),H=(()=>{const e="form",t=".js-populate-form",s=".js-range-slider";let o={initialized:!1};function i(){const t=document.querySelectorAll(e);t.length>0&&t.forEach((e=>{let t=e.getAttribute("data-validate"),s=e.getAttribute("data-ajax-submit");"true"===e.getAttribute("data-initialized")||("false"===t&&"false"===s||("false"===t&&"false"!==s?e.addEventListener("submit",(t=>{t.preventDefault(),c(e)})):"false"!==t&&"false"===s?k(e).validate({ignore:"hidden",submitHandler:function(e){e.submit()}}):k(e).validate({submitHandler:function(e){return c(e),!1}})),e.setAttribute("data-initialized","true"),e.addEventListener("reset",(e=>{Array.from(e.target.elements).forEach((e=>{e.dispatchEvent(new Event("change",{bubbles:!0}))}))})))}))}const a=new WeakMap;function r(){const e=document.querySelectorAll(s);e.length>0&&e.forEach((e=>{!function(e){const t=document.getElementById(e.dataset.rangeMin),s=document.getElementById(e.dataset.rangeMax),o=[t,s];function n(){let n=t?t.value:e.getAttribute("data-start")||1,i=s?s.value:e.getAttribute("data-end")||100,a=t?t.getAttribute("min"):e.getAttribute("data-min")||1,r=s?s.getAttribute("max"):e.getAttribute("data-max")||100,l=e.getAttribute("data-step")||1,c={animate:!0,behaviour:"tap-snap",connect:!0,format:T({mark:"."}),snap:!1,range:{min:Number(a),max:Number(r)},step:Number(l),start:[Number(n),Number(i)]};e.noUiSlider?e.noUiSlider.updateOptions(c,!0):(A.Ay.create(e,c),e.noUiSlider.on("slide",(function(e,t,s){o[t].value=Math.round(100*(Number(s[t])+Number.EPSILON).toFixed(2))/100})),e.noUiSlider.on("end",(function(e,t){o[t].dispatchEvent(new Event("change",{cancelable:!0,bubbles:!1}))})))}if(n(),!a.has(e)){const o={attributes:!0,attributeFilter:["min","max"]},i=new MutationObserver((()=>n()));a.set(e,i),t&&(i.observe(t,o),t.addEventListener("change",(function(){e.noUiSlider&&e.noUiSlider.set([this.value,null],!0,!0)}))),s&&(i.observe(s,o),s.addEventListener("change",(function(){e.noUiSlider&&e.noUiSlider.set([null,this.value],!0,!0)})))}}(e)}))}function l(e){const t=document.getElementById(e.getAttribute("data-form")),s=JSON.parse(e.getAttribute("data-values"));t&&s&&t.querySelectorAll("input, textarea, select").forEach((e=>{const t=e.name;t in s&&(e.value=s[t])}))}async function c(e){let t=e.getAttribute("method")||"GET",s=e.getAttribute("action"),o=e.getAttribute("data-reset"),i=e.querySelector(".form-error"),a=e.querySelector("[type='submit']"),r=e.querySelector(".form-request-result"),l=e.getAttribute("data-close-popup"),c=()=>{const t=e.elements;if(Array.from(t).some((e=>"file"===e.type&&e.files.length>0))){let e=new FormData;for(let s of t)s.name&&("file"===s.type?s.files.length>0&&e.append(s.name,s.files[0]):"checkbox"===s.type?e.append(s.name,s.checked?"1":"0"):"radio"===s.type?s.checked&&e.append(s.name,s.value):e.append(s.name,s.value));return e}{let e=new URLSearchParams;for(let s of t)s.name&&("checkbox"===s.type?e.append(s.name,s.checked?"1":"0"):"radio"===s.type?s.checked&&e.append(s.name,s.value):e.append(s.name,s.value));return e}},f=n.lX.getInstance(),y={l10n:g,hideScrollbar:!0};switch(p(e),m(a,"ui--spinner","spin"),a.disabled=!0,!0){case e.classList.contains("form-auth"):await u(s,t,c()).then((t=>{"ok"==t.result?(t.redirect?window.location.href=t.redirect:window.location.reload(),"true"==o&&(e.reset(),i.innerText="",i.style.display="none")):"error"==t.result&&i&&(i.innerText=t.error,i.style.display="block")})).catch((e=>{d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{l&&R.close(),h(a),a.disabled=!1}));break;case e.classList.contains("form-city"):await u(s,t,c()).then((e=>{"ok"==e.result||e.result})).catch((e=>{d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{l&&R.close(),h(a),a.disabled=!1}));break;case e.classList.contains("form-recovery"):await u(s,t,c()).then((t=>{"ok"==t.result?(f&&n.lX.close(),n.lX.show([{src:`<div class="popup popup--md" style="display: block"><p class="popup-title">Спасибо!</p><div class="popup-content">${t.message}</div></div>`,type:"html"}],y),"true"==o&&(e.reset(),i.innerText="",i.style.display="none")):"error"==t.result&&(i.innerText=t.error,i.style.display="block")})).catch((e=>{d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{l&&R.close(),h(a),a.disabled=!1}));break;case e.classList.contains("form-service-check"):await u(s,t,c()).then((t=>{if(t.result){f&&n.lX.close();let s="ok"==t.result?t.message:t.error;n.lX.show([{src:`<div class="popup popup--md" style="display: block">\n                            <p class="popup-title">Проверка статуса ремонта</p>\n                            <div class="popup-content">\n                              <div class="fs-3">${null!==t.date?`<b>${t.date}</b>: `:""}${s}</div>\n                            </div>\n                          </div>`,type:"html"}],y),"true"==o&&(e.reset(),p(e))}})).catch((e=>{d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{l&&R.close(),h(a),a.disabled=!1}));break;case e.classList.contains("form-find-by-article"):r&&(r.innerHTML=""),await u(s,t,c()).then((e=>{r&&(r.innerHTML=e),I.setButtons(),O.setButtons()})).catch((e=>{d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{h(a),a.disabled=!1}));break;default:await u(s,t,c()).then((t=>{if("ok"==t.result){f&&n.lX.close();let s=t.result&&"ok"==t.result?"Спасибо!":"Ошибка";n.lX.show([{src:`<div class="popup popup--md" style="display: block"><p class="popup-title">${s}</p><div class="popup-content">${t.message}</div></div>`,type:"html"}],y),"true"==o&&(e.reset(),i.innerText="",i.style.display="none")}else"error"==t.result&&(i?(i.innerText=t.error,i.style.display="block"):d({text:t.error,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast())})).catch((e=>{d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{l&&R.close(),h(a),a.disabled=!1}))}}function p(e){if(e){let t=e.querySelector(".form-error");t.innerText="",t.style.display="none"}}return{init:function(){o.initialized||(k.validator.setDefaults({errorPlacement:function(e,t){t.closest(".field").length?t.closest(".field").append(e):t.parent().append(e)}}),k.validator.addMethod("phone",(function(e,t){return this.optional(t)||/^(\+7[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10}$/.test(e)})),k.validator.addMethod("phoneint",(function(e,t){var s=e.replace(/\D/g,"");return this.optional(t)||s.length>=11})),k.validator.addMethod("email",(function(e,t){return this.optional(t)||/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)})),k.validator.addMethod("inn",(function(e,t){return this.optional(t)||/^\d{10,12}$/.test(e)})),k.validator.addMethod("kpp",(function(e,t){return this.optional(t)||/^\d{9}$/.test(e)})),k.validator.addMethod("rs",(function(e,t){return this.optional(t)||/^\d{20}$/.test(e)})),k.validator.addMethod("bic",(function(e,t){return this.optional(t)||/^\d{9}$/.test(e)})),k.validator.addMethod("coupon",(function(e,t){return this.optional(t)||/^(([^<>()[\]\\.,:\s@\"]+(\.[^<>()[\]\\.,:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)})),k.extend(k.validator.messages,{required:"Заполните поле",email:"Введите корректный email",phone:"Введите корректный номер телефона",phoneint:"Введите корректный номер телефона",inn:"ИНН состоит из 10 или 12 цифр",kpp:"КПП состоит из 9 цифр",rs:"Номер счета состоит из 20 цифр",bic:"БИК состоит из 9 цифр",coupon:"Ошибка! Купон не найден или истек его срок использования",url:"Введите верный url",date:"Введите верную дату",number:"Введите число",digits:"Только цифры",equalTo:"Поля не совпадают",accept:"Значение не подходит",maxlength:k.validator.format("Введите не более {0} символов"),minlength:k.validator.format("Введите не менее {0} символов"),rangelength:k.validator.format("Введите от {0} до {1} символов"),range:k.validator.format("Введите значение от {0} до {1}"),max:k.validator.format("Введите значение не больше {0}"),min:k.validator.format("Введите значение не меньше {0}")})),i(),r(),document.addEventListener("click",(e=>{const s=e.target.closest(t);s&&l(s)})),o.initialized=!0},initValidator:i,initRangeSlider:r,populateForm:l,clearErrors:p}})(),D=(()=>{async function e(e){if(void 0!==e&&parseInt(e)>0){const t="/ajax/new/setCity.php",s="POST",o={city_id:e};await u(t,s,o).then((e=>{"ok"===e.result&&window.location.reload(),"error"===e.result&&console.log("Не удалось сменить город")})).catch((e=>{d({text:e.message,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()}))}}return{init:function(){document.addEventListener("click",(t=>{const s=t.target.closest(".js-change-city");s&&(t.preventDefault(),e(s.getAttribute("data-city")))}))},change:e}})(),B=function(){const e=document.querySelectorAll(".js-select-city");e.length>0&&e.forEach((e=>{if(e.classList.contains("is-initialized"))return;const t=new o({selector:()=>e,debounce:250,data:{src:async t=>{try{let s=e.getAttribute("data-src");const o=await fetch(s+"?query[term]="+t,{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}});return(await o.json()).results}catch(e){return e}},keys:["city"]},cache:!1,filter:e=>Array.from(new Set(e.map((e=>e.match)))).map((t=>e.find((e=>e.match===t)))),resultsList:{class:"dropdown-menu show w-100 m-0",element:(e,t)=>{const s=document.createElement("p");s.classList.add("m-0","p-2","fs-4"),0===t.results.length&&(s.innerHTML=`Город <strong>"${t.query}"</strong> не найден`,e.prepend(s))},noResults:!0},resultItem:{element:(e,t)=>{e.innerHTML=`\n                <a class="dropdown-item fs-4 js-change-city" data-id="${t.value.id}">${t.match} <span class="fs-6 text-body-tertiary">(${t.value.parent||""})</span></a>\n              `},highlight:!1},submit:!1,events:{input:{focus:()=>{t.input.value.length&&t.start()}}}});t.input.addEventListener("selection",(function(e){const s=e.detail,o=s.selection.value[s.selection.key];t.input.value=o,D.change(s.selection.value.id)})),e.classList.add("is-initialized")}))},N=(()=>{let e={...n.lX.defaults,l10n:g,dragToClose:!1,hideScrollbar:!0,closeExisting:!0,commonCaption:!0,Thumbs:!1,Toolbar:{display:{left:[],middle:[],right:["close"]}}};async function t(e,t,s,o,n){N.exist(e)?N.show(e):await u(s,"GET").then((s=>{N.create(e,t,s,o),S.init(),H.initValidator(),n&&n(),N.show(e)}))}function s(e){n.lX.show([{src:"#popup-feedback",type:"inline"}],{l10n:g,dragToClose:!1,hideScrollbar:!0,closeExisting:!0,on:{reveal:(t,s)=>{!function(e,t){if(!e.getAttribute("data-show-tab"))return;const s=e.getAttribute("data-show-tab"),o=t.querySelectorAll("#feedback-tabs button");if(o.length>0){o.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),new p.oz(e).show()}))}));const e=t.querySelector(`button[data-bs-target="${s}"]`);p.oz.getOrCreateInstance(e).show()}}(e,s.contentEl),H.populateForm(e)}}})}function o(e){const t=document.getElementById("fast-buy-id");t&&(t.value=e)}return{init:function(){n.lX.bind("[data-fancybox]",e),document.addEventListener("click",(e=>{!async function(e){const n=e.target.closest(".js-auth-popup, .js-callback-popup, .js-city-popup, .js-complain-popup, .js-feedback-popup, .js-question-popup, .js-recovery-popup, .js-registration-popup, .js-supplier-popup, .js-user-wish-popup, .js-fast-buy-popup");if(n)switch(!0){case n.classList.contains("js-auth-popup"):e.preventDefault(),await async function(e){if(N.exist("popup-auth"))N.show("popup-auth");else{const t=e.href,s={backurl:window.location.pathname};await u(t,"GET",s).then((e=>{N.create("popup-auth","Вход",e,"popup--sm"),S.init(),H.initValidator(),N.show("popup-auth")}))}}(n);break;case n.classList.contains("js-callback-popup"):e.preventDefault(),await t("popup-callback","Заказать звонок",n.href,"popup--md");break;case n.classList.contains("js-city-popup"):e.preventDefault(),await t("popup-city","Выберите ваш город",n.href,"popup--md",(()=>{B()}));break;case n.classList.contains("js-complain-popup"):e.preventDefault(),await t("popup-complain","Пожаловаться",n.href,"popup--md");break;case n.classList.contains("js-feedback-popup"):e.preventDefault(),await async function(e){if(N.exist("popup-feedback"))s(e);else{const t=e.href;await u(t,"GET").then((t=>{N.create("popup-feedback","Обратная связь",t,"popup--md"),S.init(),H.initValidator(),s(e)}))}}(n);break;case n.classList.contains("js-question-popup"):e.preventDefault(),await t("popup-question","Задать вопрос",n.href,"popup--md");break;case n.classList.contains("js-recovery-popup"):e.preventDefault(),await t("popup-recovery","Восстановить пароль",n.href,"popup--md");break;case n.classList.contains("js-registration-popup"):e.preventDefault(),await t("popup-registration","Регистрация",n.href,"popup--md");break;case n.classList.contains("js-supplier-popup"):e.preventDefault(),await t("popup-supplier","Поставщикам",n.href,"popup--md");break;case n.classList.contains("js-user-wish-popup"):e.preventDefault(),await t("popup-user-wish","Что бы вы хотели?",n.href,"popup--md");break;case n.classList.contains("js-fast-buy-popup"):e.preventDefault(),await async function(e){const t=e.href,s=e.dataset.id;N.exist("popup-fast-buy")?(o(s),N.show("popup-fast-buy",{closeExisting:!1})):(e.disabled=!0,m(e,"ui--spinner","spin"),await u(t,"GET",null,1e5).then((e=>{N.create("popup-fast-buy","Купить в 1 клик",e),S.init(),H.initValidator(),N.show("popup-fast-buy",{closeExisting:!1})})).then((()=>o(s))).catch((e=>{d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{e.disabled=!1,h(e)})))}(n)}}(e)}))},exist:e=>!!document.getElementById(e),visible:()=>n.lX.getInstance(),create:function(e,t,s){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"popup--md",n=document.createElement("div");if(n.id=e,n.style.display="none",n.classList.add("popup"),n.classList.add(o),null!==t){let e=document.createElement("p");e.classList.add("popup-title"),e.innerText=t,n.appendChild(e)}let i=document.createElement("div");i.classList.add("popup-content"),i.innerHTML=s,n.appendChild(i),document.body.append(n)},show:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.lX.show([{src:`#${t}`,type:"inline"}],{...e,...s})},close:function(){n.lX.close()}}})(),R=N,F=(()=>{const e={categories:".js-adult-category",blocks:".js-adult-block",elements:[".js-adult-block .js-adult-element",".js-adult-block a",".js-adult-block button",".js-adult-block input",".js-adult-block select",".js-adult-block textarea"],confirmButton:".js-adult-confirm",notConfirmButton:".js-adult-notconfirm"},t=document.querySelectorAll(e.categories),s=document.querySelectorAll(e.blocks),o=document.querySelectorAll(e.elements.toString());async function n(){R.exist("popup-adult")?R.show("popup-adult"):await u("/ajax/new/formPopupForAdults.php").then((e=>{R.create("popup-adult","Подтвердите свой возраст",e,"popup--md"),R.show("popup-adult")})).catch((e=>{d({text:e.message,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()}))}function i(t){t.classList.remove(e.blocks.substring(1)),t.removeEventListener("click",a),t.querySelectorAll(e.elements.toString()).forEach((e=>{e.style.pointerEvents="unset",e.removeEventListener("keydown",r)}))}function a(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),n()}function r(e){if(9!=e.keyCode)return n(),e.returnValue=!1,!1}function l(){document.addEventListener("click",(n=>{const l=n.target,c=l.closest(".form-adult");switch(!0){case null!==l.closest(e.confirmButton):n.preventDefault(),c&&async function(n){const a=n.getAttribute("action"),l=n.getAttribute("method"),c=new URLSearchParams(new FormData(n));await u(a,l,c).then((n=>{"ok"==n.result?(o.length>0&&o.forEach((e=>{e.style.pointerEvents="unset",e.removeEventListener("keydown",r)})),s.length>0&&s.forEach((e=>{i(e)})),t.length>0&&t.forEach((t=>{t.classList.remove(e.categories.substring(1))})),new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&t.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&t.matches(e.blocks)&&i(t)}))}))})).observe(document.body,{childList:!0,subtree:!0})):"error"==n.result&&console.log("Пользователю меньше 18 лет")}))}(c),R.close();break;case null!==l.closest(e.notConfirmButton):window.location="/";break;case null!==l.closest(e.blocks):a(n)}}))}return{init:function(){document.querySelectorAll(e.categories).length>0&&n(),o.length>0&&o.forEach((e=>{e.style.pointerEvents="none",e.addEventListener("keydown",r)})),l()},showPopup:n}})(),V={init:function(){let e=document.querySelectorAll(".brands-slider"),t=document.querySelectorAll(".brands-slider__prev"),s=document.querySelectorAll(".brands-slider__next"),o=document.querySelectorAll(".brands-slider__pagination");e.length>0&&e.forEach(((e,n)=>{e.swiper||new i.A(e,{lazy:{loadPrevNext:!0},loop:!1,freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},navigation:{enabled:!1},pagination:{enabled:!0,el:o[n],type:"bullets",clickable:!0},grid:{rows:2,fill:"row"},slidesPerView:2.5,spaceBetween:16,breakpoints:{768:{grid:{rows:2,fill:"row"},slidesPerView:3.5,spaceBetween:16,navigation:{enabled:!1},pagination:{enabled:!0,el:o[n],type:"bullets",clickable:!0}},1024:{grid:{rows:2,fill:"row"},slidesPerView:5,spaceBetween:20,navigation:{enabled:!0,nextEl:s[n],prevEl:t[n]},pagination:{enabled:!0,el:o[n],type:"bullets",clickable:!0}}}}).on("sliderFirstMove",(()=>{M.hide()}))}))}};var G=s(2588),z=s(4642),U=s(125);const X=Array.isArray||(e=>"[object Array]"===toString.call(e)),W=e=>{if((e=>Object(e)===e)(e)){const{length:t}=Object.getOwnPropertyNames(e);return!!(0===t||1===t&&X(e)||2===t&&(e=>{toString.call(e)})(e))}return""===e};var Y=s(205);const J=(()=>{const e=document.querySelector(".header");if(!e)return console.warn("Элемент .header не найден"),{};const t={header:e,get isSticky(){return e.classList.contains("is-sticky")},set isSticky(t){e.classList.toggle("is-sticky",Boolean(t))},init(){(0,U.s)(K,["isMobile","catalogIsOpen","sidebarIsOpen"],(e=>{e.isMobile&&(e.catalogIsOpen||e.sidebarIsOpen)?t.isSticky=!0:t.isSticky=!1}))}};return t})(),K=(0,Y.T)({bodyOverflow:!1,catalog:{},catalogTime:Number(localStorage.getItem("catalogTime"))||0,catalogIsOpen:!1,isMobile:!1,sidebarIsOpen:!1,headerIsSticky:!1}),Z=window.matchMedia("(max-width: 640px)");function Q(e){K.setKey("isMobile",e.matches)}function ee(){document.body.style.overflow="hidden",K.setKey("bodyOverflow",!0)}function te(){document.body.style.removeProperty("overflow"),K.setKey("bodyOverflow",!1)}Q(Z),Z.onchange=e=>{Q(e)};const se=(()=>{const e=document.querySelector(".footer"),t=document.querySelector(".footer-toolbar"),s=t?.querySelectorAll(".footer-toolbar__item");if(!e&&!t)return console.warn("Элементы .footer или .footer-toolbar не найдены"),{init(){},removeToolbarActiveItems(){}};const o=new Map;return s?.forEach((e=>{o.set(e,e.classList.contains("is-active"))})),{footer:e,toolbar:t,toolbarItems:s,init(){(0,U.s)(K,["catalogIsOpen","sidebarIsOpen"],(e=>{e.catalogIsOpen||e.sidebarIsOpen||s?.forEach((e=>{o.get(e)?e.classList.add("is-active"):e.classList.remove("is-active")}))}))},removeToolbarActiveItems(e){s?.forEach((t=>{t!==e&&t.classList.remove("is-active")}))}}})(),oe=(()=>{const e=".catalog",t=".js-button-catalog",s={timeout:9e5,url:document.querySelector(e)?.getAttribute("data-src")},o=document.querySelector(e),n=document.querySelectorAll(t);if(!o)return console.warn("Элемент .catalog не найден"),{init(){},open(){},close(){},toggle(){},destroy(){}};let i=(0,z.E)(K,(e=>W(e.catalog))),a=(0,z.E)(K,(e=>e.catalogTime+s.timeout<Date.now()));const r=()=>{const e=document.querySelector(".header"),t=document.querySelector(".footer-toolbar"),s=e?.offsetHeight,o=t?.offsetHeight;e&&t&&document.documentElement.style.setProperty("--catalog-height",window.innerHeight-s-o+"px"),t&&document.documentElement.style.setProperty("--catalog-top-offset",`${s}px`)},l=()=>{const e=document.querySelector(".catalog ul li"),t=document.querySelector(".catalog-subcategories .catalog-subcategory");e?.querySelector("a")?.classList.add("is-active"),t?.classList.add("is-active")},c=(e,t,s)=>{const o=document.createElement("ul");return o.setAttribute("data-name",t||"Назад"),o.dataset.name=t||"Назад",e.forEach((e=>{const t=document.createElement("li"),n=document.createElement("a");if(n.href=e.url,s||(n.innerHTML=e.title),o.append(t),e.title&&t.append(n),e.icon){const t=document.createElement("span");t.classList.add("catalog-link__icon"),t.innerHTML=`<svg class="svg-icon" viewbox="0 0 24 24" focusable="false"><use xlink:href="/assets/img/sprites/sprite.svg#categories--${e.icon}"></use></svg>`,n.prepend(t),n.classList.add("has-icon")}if(e.img){const t=document.createElement("img");t.src=e.img,t.classList.add("catalog-link__img"),n.prepend(t),n.classList.add("has-img")}if(e.img_s){const t=document.createElement("img");t.src=e.img_s,t.classList.add("catalog-link__img-s"),n.append(t),n.classList.add("has-img-s")}e.sub&&(t.classList.add("has-child"),t.append(c(e.sub,e.title))),e.brands&&(t.classList.add("has-brands"),t.append(p(e.brands)))})),o},p=e=>{const t=document.createElement("div");return t.classList.add("catalog-brands"),e.forEach((e=>{const s=document.createElement("a");if(s.href=e.url,s.classList.add("catalog-brands__link"),t.append(s),e.img){const t=document.createElement("img");t.src=e.img,s.prepend(t)}})),t},m=e=>{if(K.get().isMobile){const t=document.createElement("nav");t.classList.add("slide-menu"),t.id="slide-menu",t.append(c(e)),o.append(t),h();const s=document.querySelector(".slide-menu__slider > ul");s?.setAttribute("data-name","Каталог"),s.dataset.name="Каталог",document.querySelectorAll(".slide-menu__slider .slide-menu__backlink").forEach((e=>{const t=((e,t)=>{void 0===t&&(t=document);let s=[],o=e.parentNode;for(;o!==t;){let e=o;s.push(e),o=e.parentNode}return s.push(t),s})(e)[3];e.innerHTML=t.dataset.name}))}else o.append((e=>{const t=document.createElement("div"),s=document.createElement("ul");return t.classList.add("catalog-categories"),s.classList.add("catalog-categories__list"),t.append(s),e.forEach((e=>{const t=document.createElement("li"),o=document.createElement("a");if(t.classList.add("catalog-categories__item"),t.append(o),o.href="#"+e.id,o.textContent=e.title,o.classList.add("catalog-categories__link"),e.icon){const t=document.createElement("span");t.classList.add("catalog-link__icon"),t.innerHTML=`<svg class="svg-icon" viewbox="0 0 24 24" focusable="false"><use xlink:href="/assets/img/sprites/sprite.svg#categories--${e.icon}"></use></svg>`,o.prepend(t)}s.append(t)})),t})(e)),o.append((e=>{const t=document.createElement("div");return t.classList.add("catalog-subcategories"),e.forEach((e=>{const s=document.createElement("div");if(s.classList.add("catalog-subcategory"),e.id&&s.setAttribute("id",e.id),t.append(s),e.sub&&s.append(c(e.sub)),e.brands){const t=document.createElement("div");t.classList.add("catalog-brands"),t.append(c(e.brands,null,!0)),s.append(t)}})),t})(e)),g()},h=()=>{const e=document.getElementById("slide-menu");function t(){const t=e.getElementsByClassName("slide-menu__submenu--active"),s=t[t.length-1];if(s instanceof HTMLElement){const t=Math.round(s.getBoundingClientRect().height);e.style.height=t+"px",e.style.overflow="hidden"}else e.removeAttribute("style")}e&&(new SlideMenu(e),e.addEventListener("sm.forward",(()=>{e.scrollTop=0})),e.addEventListener("sm.forward-after",(()=>{setTimeout((()=>t()),150)})),e.addEventListener("sm.back",(()=>{e.scrollTop=0})),e.addEventListener("sm.back-after",(()=>{setTimeout((()=>t()),150)})))},g=()=>{const e=document.querySelector(".catalog-categories__list");if(!e)return;const t=new G.MenuAim(e,{activate:e=>{const t=e.querySelector("a"),s=t.getAttribute("href"),o=s.startsWith("#")?s.slice(1):s.split("#")[1];document.querySelectorAll(".catalog-categories__list .is-active").forEach((e=>e.classList.remove("is-active"))),document.querySelectorAll(".catalog-subcategories .is-active").forEach((e=>e.classList.remove("is-active")));const n=document.getElementById(o);n&&(n.classList.add("is-active"),n.scrollTop=0),t&&t.classList.add("is-active")},deactivate:e=>{const t=e.querySelector("a"),s=t.getAttribute("href"),o=s.startsWith("#")?s.slice(1):s.split("#")[1],n=document.getElementById(o);n&&n.classList.remove("is-active"),t&&t.classList.remove("is-active")}});Array.from(e.children).forEach((e=>{t.hookUp(e)}))},f={catalog:o,triggers:n,init(){o&&(r(),(()=>{const e=localStorage.getItem("catalog");e&&!a.get()&&(K.setKey("catalog",JSON.parse(e).catalog),m(K.get().catalog))})(),(0,U.s)(K,["sidebarIsOpen"],(e=>{e.sidebarIsOpen&&f.close()})),(0,U.s)(K,["isMobile"],(()=>{i.get()||(o.textContent="",m(K.get().catalog),K.get().isMobile||l())})),window.addEventListener("click",(s=>{const o=s.target;o.closest(e)||o.closest(t)||o.closest(".form-searchbox")||o.closest(".header-logo")||o.closest(".header-toolbar__item")||!K.get().catalogIsOpen||f.close(),o.closest(t)&&f.toggle()})),window.addEventListener("resize",q((()=>r()),100)))},async open(){if(i.get()||a.get()){n.forEach((e=>e.classList.toggle("is-loading",!K.get().catalogIsOpen)));try{const e=await u(s.url,"GET");o.textContent="",m(e.catalog),K.setKey("catalog",e.catalog),K.setKey("catalogTime",Date.now()),localStorage.setItem("catalog",JSON.stringify(e)),localStorage.setItem("catalogTime",Date.now()),f.open()}catch(e){d({text:"Ошибка загрузки каталога",duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()}finally{n.forEach((e=>e.classList.remove("is-loading")))}}else o.classList.add("is-active"),n.forEach((e=>{e.classList.add("is-active"),se.removeToolbarActiveItems(e)})),K.get().isMobile?ee():l(),K.setKey("catalogIsOpen",!0)},close(){K.get().isMobile?te():o.querySelectorAll(".is-active").forEach((e=>e.classList.remove("is-active"))),o.classList.remove("is-active"),n.forEach((e=>{e.classList.remove("is-active")})),K.setKey("catalogIsOpen",!1)},toggle(){K.get().catalogIsOpen?f.close():f.open()},destroy(){}};return f})(),ne=(()=>{const e=document.querySelectorAll(".catalog-page__nav-item.has-child .catalog-page__nav-link");function t(e){const t={};!function(e,t){const s=e;s.element=t,s.target=t.nextElementSibling,s.parent=t.parentElement,s.parent.classList.contains("is-active")&&(s.isActive=!0)}(t,e),s(t),function(e){e.element.addEventListener("click",(t=>{t.preventDefault(),function(e){e.isActive?function(e){const t=e,{target:s}=t;s.style.height=null,t.isActive=!1,t.parent.classList.remove("is-active")}(e):function(e){const t=e,{target:s,height:o}=t;s.style.height=`${o}px`,t.isActive=!0,t.parent.classList.add("is-active")}(e)}(e)})),window.addEventListener("resize",(()=>s(e)))}(t)}function s(e){e.height=e.target.firstElementChild.clientHeight}return{init:function(){e.forEach(t)}}})(),ie=oe,ae={init:function(){const e=document.querySelectorAll(".delivery-service-slider");e.length>0&&e.forEach(((e,t)=>{if(!e.swiper){const t={createElements:!0,loop:!1,freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},mousewheel:{forceToAxis:!0},navigation:!0,pagination:!1,slidesPerView:2.2,slidesPerGroup:1,spaceBetween:0,breakpoints:{640:{slidesPerView:3.2},768:{slidesPerView:5.2},1024:{slidesPerView:3.5},1280:{slidesPerView:4.2}}};new i.A(e,t).on("sliderFirstMove",(()=>{M.hide()}))}}))}},re=class{constructor(){this.groups=new Map,this.mutationObserver=null,this.init()}init(){this.updateGroups(),this.observeDOMChanges()}updateGroups(){const e=document.querySelectorAll("[data-syncscroll]"),t=new Map;e.forEach((e=>{const s=e.getAttribute("data-syncscroll");t.has(s)||t.set(s,new Set),t.get(s).add(e)})),this.groups.forEach(((e,s)=>{e.forEach((e=>{t.has(s)&&t.get(s).has(e)||e.removeEventListener("scroll",this.handleScroll)}))})),t.forEach(((e,t)=>{e.forEach((e=>{this.groups.has(t)&&this.groups.get(t).has(e)||e.addEventListener("scroll",this.handleScroll)}))})),this.groups=t}handleScroll=e=>{const t=e.target,s=t.getAttribute("data-syncscroll"),o=this.groups.get(s);o&&this.syncScroll(t,o)};syncScroll(e,t){const s=e.scrollTop/(e.scrollHeight-e.clientHeight),o=e.scrollLeft/(e.scrollWidth-e.clientWidth);t.forEach((t=>{if(t!==e&&document.body.contains(t)){const e=s*(t.scrollHeight-t.clientHeight),n=o*(t.scrollWidth-t.clientWidth);t.scrollTo({behavior:"instant",top:e,left:n})}}))}observeDOMChanges(){this.mutationObserver=new MutationObserver((e=>{let t=!1;for(let s of e)if("childList"===s.type||"attributes"===s.type&&"data-syncscroll"===s.attributeName){t=!0;break}t&&this.updateGroups()})),this.mutationObserver.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-syncscroll"]})}destroy(){this.mutationObserver&&this.mutationObserver.disconnect(),this.groups.forEach((e=>{e.forEach((e=>{e.removeEventListener("scroll",this.handleScroll)}))})),this.groups.clear()}},le=new class{constructor(){this.element=null,this.template='\n      <div class="preloader">\n        <span class="preloader__d"></span>\n        <span class="preloader__d"></span>\n        <span class="preloader__d"></span>\n        <span class="preloader__d"></span>\n      </div>'}#e(){this.element=document.createElement("div"),this.element.className="preloader__wrapper",this.element.innerHTML=this.template,document.body.appendChild(this.element)}#t(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null}show(){this.element||this.#e(),document.body.classList.add("js-preloader")}hide(){this.element&&this.#t(),document.body.classList.remove("js-preloader")}toggle(){this.visible?this.hide():this.show()}},ce=(()=>{const e=".compare-data",t=".js-compare-category-select",s=".js-compare-clear-category",o=".js-compare-filter-props",n=".js-compare-delete-item",i=document.querySelector(e),a=new re,r=function(e){d({text:e,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:`fs-4 bg-${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"} bg-gradient`}).showToast()},l=async(e,t,s,o)=>{le.show();try{((e,t)=>{"object"==typeof e?"ok"===e.result?r(e.message,"info"):"error"===e.result&&r(e.error,"danger"):"string"==typeof e&&t(e)})(await u(e,t,s),o)}catch(e){r(e.message,"danger")}finally{le.hide()}};async function c(e){if(!e)return;const t={sec:e.getAttribute("data-category")};await async function(e){await l("/user/compare/","GET",e,(e=>{i.innerHTML=e,I.setButtons(),O.setButtons()}))}(t)}return{init:function(){i&&(a.init(),document.addEventListener("click",(e=>{const a=e.target.closest(t),r=e.target.closest(o),d=e.target.closest(s),u=e.target.closest(n);r&&function(e){let t=document.getElementsByName(e.name),s=e.dataset.filterby,o=document.querySelectorAll(".compare-props__group, .compare-props__prop-title, .compare-props__prop-row");null!=o&&0!=o.length&&t.forEach((e=>{e.checked?o.forEach((e=>e.classList.contains(s)?e.classList.add("hidden"):"")):o.forEach((e=>e.classList.contains(s)?e.classList.remove("hidden"):""))}))}(r),a&&!a.classList.contains("is-active")&&(e.preventDefault(),c(a)),d&&(e.preventDefault(),async function(e){if(!e)return;const t={action:e.getAttribute("data-action"),id:e.getAttribute("data-id")};await l("/user/compare/","POST",t,(e=>{const s=new Set(t.id.split(","));for(let e=O.comparison.length-1;e>=0;e--)s.has(O.comparison[e])&&O.comparison.splice(e,1);"string"==typeof e&&(i.innerHTML=e,I.setButtons(),O.setButtons())}))}(d)),u&&(e.preventDefault(),async function(e){if(!e)return;const t={action:e.getAttribute("data-action"),id:e.getAttribute("data-id")};await l("/user/compare/","POST",t,(e=>{const s=O.comparison.indexOf(t.id);s>-1&&O.comparison.splice(s,1),i.innerHTML=e,I.setButtons(),O.setButtons()}))}(u))})))}}})();let de=function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(e){return!1}return!0}();function ue(e){if(de)return(new DOMParser).parseFromString(e,"text/html").body;let t=document.createElement("div");return t.innerHTML=e,t}const pe=new class{constructor(){this.configurator=document.querySelector("#configurator"),this.isConfiguratorPage=!!this.configurator,this.ui={progress:".js-configurator-progress",status:".js-configurator-status",action:".js-configurator-action",total:".js-configurator-total"},this.clickHandler=this.#s.bind(this),this.changeHandler=this.#o.bind(this),this.#n()}#i(){return[...document.querySelectorAll(".configurator-slot:not(.configurator-slot--special)")]}#a(e){return!!this.isConfiguratorPage&&e.call(this)}#r(){return this.#a((()=>this.#i().some((e=>"true"===e.dataset.strict&&!e.querySelector(".configurator-item--full")))))}#l(){return this.#a((()=>!this.#i().some((e=>"false"===e.dataset.compatible&&e.querySelector(".configurator-item--full")))))}#c(){return this.#a((()=>!this.#r()&&this.#l()))}#d(){if(!this.isConfiguratorPage)return;const e=document.querySelector(this.ui.progress);if(!e)return;const t=this.#i(),s=t.filter((e=>"true"===e.dataset.mandatory&&e.querySelector(".configurator-item--full"))).length;e.value=Math.round(100*s/t.length),e.classList.toggle("is-strict",this.#r()),e.classList.toggle("is-incompatible",!this.#l())}#u(){if(!this.isConfiguratorPage)return;const e=document.querySelector(this.ui.status);e&&(e.classList.add("d-block"),(e=>{for(var t=e.classList.length-1;t>=0;t--)e.classList[t].startsWith("alert-")&&e.classList.remove(e.classList[t])})(e),this.#r()?(e.classList.add("alert-danger"),e.textContent="Выбраны не все обязательные компоненты"):this.#l()?this.#c()&&(e.classList.add("alert-info"),e.textContent="Хороший выбор!"):(e.classList.add("alert-warning"),e.textContent="Есть несовместимые компоненты"))}#s=async e=>{const t=e.target.closest(this.ui.action);if("SELECT"!==e.target.tagName&&(t&&(e.preventDefault(),await this.#p(t)),this.isConfiguratorPage)){const t=e.target.closest(".js-check-strict"),s=e.target.closest(".js-check-compatible");t&&(e.preventDefault(),console.log("Обязательные заполнены: "+!this.#r())),s&&(e.preventDefault(),console.log("Все совместимы: "+this.#l()))}};#o=async e=>{const t=e.target.closest(this.ui.action);if(t){e.preventDefault();let s=t.options[t.selectedIndex];return await this.#p(s)}};#p=async e=>{let t,s,o,n,i,a,r,l;if(t=e.dataset.id,s=e.dataset.action,o=e.dataset.reload,n=e.dataset.type,i=e.dataset.quantity,a=document.getElementById("cofiguratorName"),l=document.getElementById("cofiguratorId")?.value,r=a?a.value:"","switchConfiguration"===s&&!l&&t&&(l=t),e.classList.contains("disabled")||e.disabled)return;let c={};t&&(c.id=t),s&&(c.action=s),n&&(c.row_type=n),i&&(c.quantity=i),r&&(c.name=r),o&&(c.reload=o),l&&(c.configurator=l),le.show(),await u("/ajax/new/configuratorActions.php","POST",c).then((e=>{"addToBasket"==s&&(R.show("popup-add-to-cart--configurator"),I.refreshDropdown()),"Y"==o&&e.url&&e.url.length>0?e.mustRedirect?window.location.href=e.url:this.#m(e.url):"ok"==e.result?e.url&&(window.location.href=e.url):"error"==e.result&&"saveConfiguration"==s&&d({text:e.error,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).catch((e=>{d({text:e.message,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{le.hide()}))};#m=async e=>{e&&e.length>0&&await u(e,"GET").then((e=>{this.#h(e)})).then((()=>{this.#d(),this.#u(),O.setButtons()})).catch((e=>{d({text:e.message,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()})).finally((()=>{le.hide()}))};#h(e){const t=ue(e);[".configurator-items",".configurator-additional__list",".configurator-total__price",".configurator-total__bonus",".configurator-estimate",".configurator-save","#popup-expert-request"].forEach((e=>{const s=document.querySelectorAll(e),o=t.querySelector(e);s&&o&&s.forEach((e=>e.innerHTML=o.innerHTML))}))}#n(){document.addEventListener("click",this.clickHandler),document.addEventListener("change",this.changeHandler)}init(){this.isConfiguratorPage&&(this.#d(),this.#u())}destroy(){document.removeEventListener("click",this.clickHandler),document.removeEventListener("change",this.changeHandler),this.configurator=null,this.items=null,this.ui=null,this.isConfiguratorPage=null}},me=(()=>{const e=".js-copy-code",t=".js-copy-link";function s(e,t){var s=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:s>1&&s<5?t[1]:1==s?t[0]:t[2]}const o=e=>e<10&&e>=0?"0"+e:e;return{init:function(){!function(){const e=document.querySelector("#countdown");if(e){const t=e.getAttribute("data-date").split("-"),n=parseInt(t[0]),i=parseInt(t[1]),a=parseInt(t[2]);let r,l,c=e.getAttribute("data-time");null!=c&&(c=c.split(":"),r=parseInt(c[0]),l=parseInt(c[1]));let d=new Date(a,i-1,n,r,l,0,0).getTime(),u=setInterval((function(){let t=(new Date).getTime(),n=d-t,i=Math.floor(n/864e5),a=Math.floor(n%864e5/36e5),r=Math.floor(n%36e5/6e4);e.querySelector(".day .num").innerHTML=o(i),e.querySelector(".hour .num").innerHTML=o(a),e.querySelector(".min .num").innerHTML=o(r),e.querySelector(".day .word").innerHTML=s(i,["день","дня","дней"]),e.querySelector(".hour .word").innerHTML=s(a,["час","часа","часов"]),e.querySelector(".min .word").innerHTML=s(r,["минута","минуты","минут"]),n<0&&(clearInterval(u),e.innerHTML="Акция завершена")}),1e3)}}(),document.addEventListener("click",(s=>{const o=s.target.closest(e),n=s.target.closest(t);o&&(s.preventDefault(),function(e){let t=e.getAttribute("data-copy-code");navigator.clipboard.writeText(t).then((()=>{const t=e.getAttribute("data-copy-code-tooltip");e._tippy?((0,a.cJ)(),e._tippy.setContent(t),setTimeout((()=>e._tippy.show()),100)):(0,a.Ay)(e,{theme:"ogo",inertia:!0,placement:"top",trigger:"click",hideOnClick:!0,content:t}).show()}))}(o)),n&&(s.preventDefault(),function(e){let t=window.location.href;navigator.clipboard.writeText(t).then((()=>{const t=e.getAttribute("data-copy-link-tooltip");e._tippy?((0,a.cJ)(),e._tippy.setContent(t),setTimeout((()=>e._tippy.show()),100)):(0,a.Ay)(e,{arrow:!1,theme:"ogo",inertia:!0,placement:"top",trigger:"click",hideOnClick:!0,content:t}).show()}))}(n))}))}}})(),he=me,ge=(e,t)=>{let s={duration:t.duration||100,offset:t.offset||0,callback:t.callback,easing:t.easing||function(e,t,s,o){return(e/=o/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t}},o=document.body.scrollTop||document.documentElement.scrollTop,n=-("function"==typeof s.offset?s.offset():s.offset);"string"==typeof e&&document.querySelector(e)?n+=document.querySelector(e).getBoundingClientRect().top:"object"==typeof e?n+=e.getBoundingClientRect().top:"number"==typeof e&&(n=n+e-o);let i,a,r="function"==typeof s.duration?s.duration(n):s.duration;function l(e){a=e-i,window.scrollTo(0,s.easing(a,o,n,r)),a<r?requestAnimationFrame(l):(window.scrollTo(0,o+n),"function"==typeof s.callback&&s.callback())}requestAnimationFrame((function(e){i=e,l(e)}))},fe=(()=>{const e={listingGrid:"#listing-grid",viewControl:".js-listing-view-control",sortControl:".listing-controls__sort-select",showMore:".js-show-more"};function t(t,s){if(t.filter&&ye.update(t.filter),t.breadcrumbs){const e=document.querySelector(".breadcrumbs");e&&(e.outerHTML=t.breadcrumbs)}if(t.title){const e=document.querySelector(".page-title");e&&(e.innerText=t.title),document.title=t.title}if(t.show_more){const s=document.querySelector(e.showMore);s&&(s.outerHTML=t.show_more)}else{const t=document.querySelector(e.showMore);t&&(t.outerHTML="")}if(t.brands_block){document.querySelector(".js-brands-block");const e=document.querySelector(".js-brands-block");e&&(e.outerHTML=t.brands_block)}else{const e=document.querySelector(".js-brands-block");e&&(e.outerHTML="")}if(t.pagination){const e=document.querySelector(".pagination");e&&(e.outerHTML=t.pagination)}if(t.count_items){const e=document.querySelectorAll(".js-count-items");e.length>0&&e.forEach((e=>e.outerHTML=t.count_items))}if(t.count_btn){const e=document.querySelectorAll(".js-count-btn");e.length>0&&e.forEach((e=>e.outerHTML=t.count_btn))}if(t.controls){const e=document.querySelector(".listing-controls");e&&(e.outerHTML=t.controls)}if(t.items){const e=ue(t.items),o=document.querySelector(".listing-grid");s?e.querySelectorAll(".product-card").forEach((e=>o.appendChild(e))):o.outerHTML=e.outerHTML}if(t.tags){const e=document.querySelector(".js-tags");e&&(e.outerHTML=t.tags)}if(t.filter_info){const e=document.querySelector(".js-filter-info");e&&(e.outerHTML=t.filter_info)}if(t.gtm_data&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(JSON.parse(t.gtm_data))),t.tmr_data){window._tmr=window._tmr||[];let e=JSON.parse(t.tmr_data);window._tmr.push(e),window.dataLayer.push({event:window.location.href.indexOf("/search/")>0?"view_search_results":"view_item_list",items:e.productid.map((e=>({id:e,google_business_vertical:"retail"})))})}return I.setButtons(),O.setButtons(),!1}async function s(e,s){s.preventDefault();let o=document.querySelector(".filter_summary");o&&(o.style.display="none");let n=e.getAttribute("href")||e.value,i=e.dataset.append;if(e.classList.contains("listing-controls__qty-link")&&e.classList.contains("is-active")||e.classList.contains("tags-link")&&e.classList.contains("is-active")||e.classList.contains("listing-controls__sort-select")&&e.options[e.selectedIndex])return!1;if(n&&n.length>0)try{let e=ue(await u(n,"GET")),s={};s.brands_block=e.querySelector(".js-brands-block")?.outerHTML.trim(),s.breadcrumbs=e.querySelector(".breadcrumbs")?.outerHTML.trim(),s.controls=e.querySelector(".listing-controls")?.outerHTML.trim(),s.count_btn=e.querySelector(".js-count-btn")?.innerText.trim(),s.count_items=e.querySelector(".js-count-items")?.outerHTML.trim(),s.filter=e.querySelector(".js-filters")?.outerHTML.trim(),s.gtm_data=e.querySelector("#gtm_data")?.getAttribute("data-gtm"),s.items=e.querySelector(".listing-grid")?.outerHTML.trim(),s.pagination=e.querySelector(".pagination")?.outerHTML.trim(),s.show_more=e.querySelector(".js-show-more")?.outerHTML.trim(),s.tags=e.querySelector(".js-tags")?.outerHTML.trim(),s.title=e.querySelector(".page-title")?.innerText.trim(),s.tmr_data=e.querySelector("#tmr_data")?.getAttribute("data-tmr"),t(s,i),i||document.querySelector(".listing-grid")?.dispatchEvent(new Event("pagination.scroll")),window.history.pushState(s,"",n)}catch(e){console.log(e)}return!1}return{init:function(){!function(){if(!document.querySelector(e.listingGrid))return;let t={};t.brands_block=document.querySelector(".js-brands-block")?.outerHTML.trim(),t.breadcrumbs=document.querySelector(".breadcrumbs")?.outerHTML.trim(),t.controls=document.querySelector(".listing-controls")?.outerHTML.trim(),t.count_btn=document.querySelector(".js-count-btn")?.innerText.trim(),t.count_items=document.querySelector(".js-count-items")?.outerHTML.trim(),t.filter=document.querySelector(".js-filters")?.outerHTML.trim(),t.items=document.querySelector(".listing-grid")?.outerHTML.trim(),t.pagination=document.querySelector(".pagination")?.outerHTML.trim(),t.show_more=document.querySelector(".js-show-more")?.outerHTML.trim(),t.tags=document.querySelector(".js-tags")?.outerHTML.trim(),t.title=document.querySelector(".page-title")?.innerText.trim(),window.history.replaceState(t,"")}(),window.onpopstate=e=>{let s;if(e.state&&(s=e.state),s)return t(s)},document.addEventListener("change",(async t=>{const o=t.target.closest(e.sortControl);if(o){le.show();let n=o.options[o.selectedIndex];await s(n,t).finally((()=>{ge(e.listingGrid,{offset:16}),le.hide()}))}})),document.addEventListener("click",(async t=>{t.target.closest(e.viewControl)&&(t.preventDefault(),function(t){if(!t)return;const s=t.dataset.view,o=document.querySelector(e.listingGrid);document.querySelectorAll(e.viewControl).forEach((e=>e.classList.remove("is-active"))),t.classList.add("is-active"),o.classList.remove([...o.classList].filter((e=>e.startsWith("listing-grid--view-")))),o.classList.add(`listing-grid--view-${s}`)}(t.target)),t.target.closest(e.showMore)&&(t.preventDefault(),le.show(),await s(t.target,t).finally((()=>{le.hide()}))),t.target.closest(".js-clear-filter")&&(t.preventDefault(),le.show(),await s(t.target,t).finally((()=>{if(window.matchMedia("(max-width: 1023px)")){const e=document.querySelector(".offcanvas-lg"),t=p.go.getInstance(e);t?.hide()}le.hide(),ge(e.listingGrid,{offset:16})}))),t.target.closest(".listing-controls__pagination-item, .listing-controls__qty-link, .page-link, .js-brands-block .tags-link")&&(t.preventDefault(),le.show(),await s(t.target,t).finally((()=>{le.hide(),ge(e.listingGrid,{offset:16})})))}))},update:t}})(),ye=(()=>{const e={listingGrid:"#listing-grid",filters:".js-filters",clearFilter:".js-clear-filter"};function t(t){const s=document.querySelectorAll(e.filters),o=ue(t);s.forEach((t=>{["PAGESIZE","SORT","ORDER"].forEach((e=>{const s=t.querySelectorAll(`input[name='${e}']`),n=o.querySelector(`input[name='${e}']`)?.value;!function(e,t){e.forEach((e=>{e.value!=t&&(e.value=t)}))}(s,n)})),function(e,t){e.forEach((e=>{const s=e.id,o=t.querySelector(`#${s}`);!o||e.checked===o.checked&&e.disabled===o.disabled||(e.checked=o.checked,e.disabled=o.disabled)}))}(t.querySelectorAll("input[type='checkbox'], input[type='radio']"),o),function(e,t){e.forEach((e=>{const s=e.name,o=t.querySelector(`[name='${s}']`);let n=o?.getAttribute("min"),i=o?.getAttribute("max");n&&e.getAttribute("min")!==n&&e.setAttribute("min",n),i&&e.getAttribute("max")!==i&&e.setAttribute("max",i),o&&e.value!==o.value&&(e.value=o.value,e.dispatchEvent(new Event("change",{bubbles:!1})))}))}(t.querySelectorAll("input[type='text'], input[type='number']"),o),function(t,s){t.forEach((t=>{const o=s.querySelector(e.clearFilter);o&&t.getAttribute("href")!==o.getAttribute("href")&&t.setAttribute("href",o.getAttribute("href"))}))}(t.querySelectorAll(e.clearFilter),o)}))}return{init:function(){!function(){const s=document.querySelectorAll(e.filters);s?.forEach((s=>{s.addEventListener("submit",(async o=>{o.preventDefault();const n=s.querySelectorAll("[type=submit], [type=button], [type=reset], .js-clear-filter");return n?.forEach((e=>{e.disabled=!0,e.classList.add("disabled")})),le.show(),await async function(e){let s=document.querySelector(".filter_summary");s&&(s.style.display="none"),document.querySelectorAll(".js-min").forEach((e=>{let t=e.getAttribute("min");e.value==t&&e.removeAttribute("name")})),document.querySelectorAll(".js-max").forEach((e=>{let t=e.getAttribute("max");e.value==t&&e.removeAttribute("name")}));let o=new URLSearchParams(new FormData(e)),n=window.location.pathname,i=n.match(/\/(.+?)--(.+?)--(.+?)\/$/);if(i)n="/"+i[1]+"/";else{let e=n.split("/"),t=e.length>2&&"action"===e[2]?5:4;for(;e.length>t;)e.splice(-2,1),n=e.join("/"),e=n.split("/")}await u(n,"GET",o).then((e=>{if("object"==typeof e)return void(e.redirect&&(window.location.href=e.redirect));let s=ue(e),i={};i.brands_block=s.querySelector(".js-brands-block")?.outerHTML.trim(),i.breadcrumbs=s.querySelector(".breadcrumbs")?.outerHTML.trim(),i.controls=s.querySelector(".listing-controls")?.outerHTML.trim(),i.count_btn=s.querySelector(".js-count-btn")?.innerText.trim(),i.count_items=s.querySelector(".js-count-items")?.outerHTML.trim(),i.filter=s.querySelector(".js-filters")?.outerHTML.trim(),i.gtm_data=s.querySelector("#gtm_data")?.getAttribute("data-gtm"),i.items=s.querySelector(".listing-grid")?.outerHTML.trim(),i.pagination=s.querySelector(".pagination")?.outerHTML.trim(),i.show_more=s.querySelector(".js-show-more")?.outerHTML.trim(),i.tags=s.querySelector(".js-tags")?.outerHTML.trim(),i.title=s.querySelector(".page-title")?.innerText.trim(),i.tmr_data=s.querySelector("#tmr_data")?.getAttribute("data-tmr"),!i.count_items&&document.querySelectorAll(".js-configurator-section").length>0&&(i.count_items=s.find(".js-count-items").html()),t(i.filter),fe.update(i,!1);let a=n+"?"+o.toString();window.history.pushState(i,"",a)})).catch((e=>{console.log(e)})).finally((()=>{document.querySelectorAll(".js-min, .js-max").forEach((function(e){e.setAttribute("name",e.dataset.name)}))}))}(s).finally((()=>{if(le.hide(),ge(e.listingGrid,{offset:16}),n?.forEach((e=>{e.disabled=!1,e.classList.remove("disabled")})),window.matchMedia("(max-width: 1023px)")){const e=document.querySelector(".offcanvas-lg"),t=p.go.getInstance(e);t?.hide()}})),!1}))}))}()},update:t}})(),be={init:function(){let e=document.querySelectorAll(".hero-slider"),t=document.querySelectorAll(".hero-slider__prev"),s=document.querySelectorAll(".hero-slider__next"),o=document.querySelectorAll(".hero-slider__pagination");e.length>0&&e.forEach(((e,n)=>{e.swiper||new i.A(e,{loop:!0,autoplay:{delay:5e3},effect:"fade",preloadImages:!0,lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},pagination:{el:o[n],type:"bullets",clickable:!0},navigation:{nextEl:s[n],prevEl:t[n]}})}))}};var ve=s(6068);const we=(()=>{const e=document.querySelectorAll(".js-input-mask");return{init:function(){(0,ve.A)().mask(e),window.inputMask=we}}})(),_e=we,Le=(()=>{let e=document.querySelectorAll(".main-banners-slider"),t=document.querySelectorAll(".main-banners-slider__pagination");return{init:function(){e.length>0&&e.forEach(((e,s)=>{e.swiper||new i.A(e,{lazy:{loadPrevNext:!0},loop:!0,freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},mousewheel:{forceToAxis:!0},watchSlidesProgress:!0,pagination:{el:t[s],type:"bullets",clickable:!0},grid:{fill:"row",rows:1},slidesPerView:1,spaceBetween:10,breakpoints:{480:{grid:{fill:"row",rows:1},loop:!0,slidesPerView:1,spaceBetween:16},640:{grid:{fill:"row",rows:1},loop:!0,slidesPerView:2,spaceBetween:16},1024:{grid:{fill:"row",rows:2},loop:!1,slidesPerView:3,spaceBetween:24,freeMode:{enabled:!1}}}})}))}}})(),Ee=(()=>{let e,t=k(".ymap"),s=k(".ymap__map",t),o=k(".ymap__point",t),n=new Set;const i='\n    <div class="ymap__balloon-inner">\n      <div class="ymap__balloon-header">\n        <div class="ymap__balloon-title">{{properties.title|raw}}</div>\n        <div class="ymap__balloon-close"><svg class="svg-icon"><use xlink:href="/assets/img/sprites/sprite.svg#ui--cross"></use></svg></div>\n      </div>\n      <div class="ymap__balloon-content">\n        <div class="ymap__balloon-address">{{properties.address|raw}}</div>\n        <div class="ymap__balloon-description">{{properties.description|raw}}</div>\n        <div class="ymap__balloon-pickup">{{properties.pickup|raw}}</div>\n        <div class="ymap__balloon-phone"><a href="tel:{{properties.phone|raw}}" class="text-decoration-underline">{{properties.phone|raw}}</a></div>\n        <div class="ymap__balloon-hours">{{properties.hours|raw}}</div>\n        {% if !properties.details %}\n          <a href="{{properties.link|raw}}" class="ymap__balloon-details btn btn-primary">Подробнее</a>\n        {% endif %}\n      </div>\n    </div>',a='\n    <div class="ymap__balloon-outer">\n      <div class="ymap__balloon-outer-holder">$[[options.contentLayout]]</div>\n    </div>';function r(t){let s=new ymaps.Placemark([parseFloat(t.coords[0]),parseFloat(t.coords[1])],k.extend({hintContent:"Гипермаркет ОГО!",title:t.title,address:t.address,description:t.description,phone:t.phone,hours:t.hours,link:t.link,iconContent:t.type,details:t.details,type:t.type,metro:t.metro,pickup:t.pickup},t.data),{iconLayout:"default#image",iconImageHref:"/assets/img/map_shop_label.png",iconImageSize:[81,53],iconShape:{type:"Rectangle",coordinates:[[0,-46],[178,0]]},hideIconOnBalloonOpen:!0,balloonShadow:!1,balloonContentLayout:c(t.balloonTemplate),balloonLayout:d(t.balloonLayout,t.buildCallback),balloonPanelMaxMapArea:0});s.key=t.key;for(let s of n)if(s.key===t.key){n.delete(s),e.geoObjects.remove(s);break}n.add(s),e.geoObjects.add(s),n.size<=1&&s.balloon.open()}function l(){e||(t=k(".ymap"),s=k(".ymap__map",t),o=k(".ymap__point",t),t.length>0&&(e=new ymaps.Map(s.get(0),{center:s.data("center").split(","),zoom:15,controls:["default"]}),(new ymaps.event.Manager).add("click",(e=>{console.log(e)}),e.container),o.length>0&&function(e){e.each((function(){let e=k(this);r({title:k(".ymap__point-title",e).html(),address:k(".ymap__point-address",e).html(),description:k(".ymap__point-description",e).html(),phone:k(".ymap__point-phone",e).html(),hours:k(".ymap__point-hours",e).html(),type:k(".ymap__point-type",e).html(),coords:e.data("coords").split(","),details:void 0!==e.data("no-detail"),link:e.data("link")||"/",key:e.data("coords")})}))}(o),t.on("resize.block",(function(t){setTimeout((function(){null!=e&&e.container.fitToViewport(!0)}),200),t.stopPropagation()})),t.on("setPlacemark.block",(function(e,t){r(t),e.stopPropagation()})),t.on("resetPlacemarks.block",(function(t,s){!function(){for(let t of n)e.geoObjects.remove(t);n.clear()}(),t.stopPropagation()})),t.on("setCenter.block",(function(t,s,o,i){e.setCenter(s,o,{duration:500}).then((()=>{let e=null;for(let t of n)if(t.key===i){e=t;break}e&&e.balloon.open()}),(e=>{console.log(e)})),t.stopPropagation()})),t.on("destroy.block",(function(t){void 0!==e&&e.destroy(),t.stopPropagation()})),t.triggerHandler("mapReady.block")))}function c(e){let t=e||i;return ymaps.templateLayoutFactory.createClass(t)}function d(e,t){let s=e||a,o=ymaps.templateLayoutFactory.createClass(s,{build:function(){this.constructor.superclass.build.call(this),this._$element=k(".ymap__balloon-outer",this.getParentElement()),void 0!==t&&t.apply(this),this.applyElementOffset(),this._$element.find(".ymap__balloon-close").on("click",k.proxy(this.onCloseClick,this))},clear:function(){k("body").off("click",this.closeOnBlur),this.constructor.superclass.clear.call(this)},onSublayoutSizeChange:function(){MyBalloonLayout.superclass.onSublayoutSizeChange.apply(this,arguments),this._isElement(this._$element)&&(this.applyElementOffset(),this.events.fire("shapechange"))},applyElementOffset:function(){this._$element.css({left:-this._$element[0].offsetWidth/2,top:-this._$element[0].offsetHeight})},getShape:function(){if(!this._isElement(this._$element))return MyBalloonLayout.superclass.getShape.call(this);let e=this._$element.position();return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[e.left,e.top],[e.left+this._$element[0].offsetWidth,e.top+this._$element[0].offsetHeight]]))},onCloseClick:function(e){e.preventDefault(),this.events.fire("userclose")},_isElement:function(e){return e&&e[0]}});return o}return{init:function(){new MutationObserver((e=>{for(let t of e)if("childList"===t.type&&Array.from(t.addedNodes).some((e=>1===e.nodeType&&(e.classList.contains("ymap")||e.querySelector(".ymap"))))){l();break}})).observe(document.body,{childList:!0,subtree:!0}),window.ymapAPIready?l():k(document).on("ymapAPIready",l)}}})(),Se=Ee,ke={init:function(){let e=document.querySelectorAll(".news-slider"),t=document.querySelectorAll(".news-slider__prev"),s=document.querySelectorAll(".news-slider__next"),o=document.querySelectorAll(".news-slider__pagination");e.length>0&&e.forEach(((e,n)=>{e.swiper||new i.A(e,{loop:!1,freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},mousewheel:{forceToAxis:!0},watchSlidesProgress:!0,navigation:{enabled:!1},pagination:{enabled:!0,el:o[n],type:"bullets",clickable:!0},slidesPerView:1.2,spaceBetween:16,breakpoints:{768:{slidesPerView:2,spaceBetween:16,navigation:{enabled:!1},pagination:{enabled:!0,el:o[n],type:"bullets",clickable:!0}},1024:{slidesPerView:3,spaceBetween:24,navigation:{enabled:!0,nextEl:s[n],prevEl:t[n]},pagination:{enabled:!1}}}})}))}},Ae={init:function(){let e=document.querySelectorAll(".photo-slider"),t=document.querySelectorAll(".photo-slider__prev"),s=document.querySelectorAll(".photo-slider__next"),o=document.querySelectorAll(".photo-slider__pagination");e.forEach(((e,n)=>{if(!e.swiper){const a=e.querySelectorAll(".swiper-slide").length,r={};a<3?(r[1024]=a,r[640]=a):(r[1024]=3,r[640]=2),new i.A(e,{loop:!0,freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},mousewheel:{forceToAxis:!0},watchSlidesProgress:!0,navigation:{nextEl:s[n],prevEl:t[n]},pagination:{el:o[n],type:"bullets",clickable:!0},slidesPerView:1,spaceBetween:10,breakpoints:{640:{slidesPerView:r[640],spaceBetween:10},1024:{slidesPerView:r[1024],spaceBetween:30}}})}}))}},Te=(()=>{let e=k(".pickup-map"),t=k(".ymap"),s=!1;function o(){e=k(".pickup-map"),t=k(".ymap");const o=k(".pickup-map__point",e);t.trigger("resetPlacemarks.block"),o.each((function(){const e=k(this);setTimeout((function(){t.trigger("setPlacemark.block",[{key:e.data("coords"),coords:e.data("coords").split(","),title:k(".ymap__balloon-title",e).html(),address:k(".ymap__balloon-address",e).html(),metro:k(".ymap__balloon-metro",e).html(),pickup:`<b>${k(".ymap__balloon-pickup",e).html()}</b>, ${k(".ymap__balloon-price",e).html()}`,price:k(".ymap__balloon-price",e).html(),hours:k(".ymap__balloon-hours",e).html(),details:!1,balloonTemplate:'\n            <div class="ymap__balloon-inner">\n              <div class="ymap__balloon-header">\n                <div class="ymap__balloon-title">{{properties.title|raw}}</div>\n                <div class="ymap__balloon-close">\n                  <svg class="svg-icon"><use xlink:href="/assets/img/sprites/sprite.svg#ui--cross"></use></svg>\n                </div>\n              </div>\n              <div class="ymap__balloon-content">\n                <div class="ymap__balloon-address">{{properties.address|raw}}</div>\n                {% if properties.metro !== undefined %}\n                <div class="ymap__balloon-metro">{{properties.metro|raw}}</div>\n                {% endif %}\n                <div class="ymap__balloon-pickup">Можно забрать {{properties.pickup|raw}}</div>\n                <div class="ymap__balloon-hours">{{properties.hours|raw}}</div>\n              </div>\n            </div>'}])}),300)})),i(),s=!0}function n(e){const s=k(this).data("coords");t.trigger("setCenter.block",[s.split(","),15,s]),e.preventDefault()}function i(){t.on("mapReady.block",o),e.on("click",".pickup-map__point",n)}return{init:function(){new MutationObserver((n=>{for(let a of n)if("childList"===a.type&&Array.from(a.addedNodes).some((e=>1===e.nodeType&&(e.classList.contains("pickup-map")||e.querySelector(".pickup-map"))))&&!s){e=k(".pickup-map"),t=k(".ymap"),e.length>0&&t.length>0&&o(),i(),s=!0;break}})).observe(document.body,{childList:!0,subtree:!0})}}})(),qe=(()=>{const e={trigger:".js-product-delivery",pickup:".js-product-pickup",block:".product-delivery"},t=document.querySelector(e.block);let s=t?.dataset.id,o={id:s};function n(){const s=(n=()=>async function(e){try{const s=await(async e=>await u("/ajax/new/delivery_data.php","GET",e,18e4))(e);null==t||(t.innerHTML=s)}catch(e){null==t||(t.innerHTML='<div class=`"`callout bg-danger-subtle"><b>Ошибка:</b> данные доставки не получены. Попробуйте перезагрузить страницу</div>'),d({text:e.message,duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()}}(o),new IntersectionObserver((async(e,t)=>{for(const s of e)if(s.isIntersecting){const e=s.target;try{n()}catch(e){d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()}finally{t.unobserve(e)}}}),{rootMargin:"-100px 0% 0% 0%",threshold:0}));var n;document.querySelectorAll(e.trigger)?.forEach((e=>s.observe(e)))}return{init:function(){n(),document.addEventListener("click",(t=>{if(t.target.closest(e.pickup)){t.preventDefault();const e={on:{}};R.show("popup-pickup",e)}}))}}})(),xe=(()=>{const e=".js-product-preview";return{init:function(){document.addEventListener("click",(t=>{const s=t.target.closest(e);s&&(t.preventDefault(),function(e){const t=e.href,s=e.dataset.id,o=e.closest("[data-gtm]")?.dataset.gtm;o&&function(e){if(!e)return;window.dataLayer=window.dataLayer||[];let t=JSON.parse(e);window.dataLayer.push({event:"eec.impressionClick","event-action":"Быстрый просмотр","event-category":"ecommerce","event-label":t.name,"event-non-interaction":"False",ecommerce:{detail:{actionField:{list:t.list},products:[{id:t.id,name:t.name,brand:t.brand,category:t.category,position:t.position,price:t.price.replace(/\s/g,"")}]}}})}(o),R.exist(`popup-product-preview-${s}`)?R.show(`popup-product-preview-${s}`):n.lX.show([{src:`${t}?ELEMENT_ID=${s}`,type:"ajax"}],{l10n:g,dragToClose:!1,hideScrollbar:!0,closeExisting:!0,on:{reveal:(e,t)=>{let o=document.createElement("div");o.classList.add("popup","popup--lg"),o.id=`popup-product-preview-${s}`,o.style.display="block",((e,t)=>{t=t||document.createElement("div"),e.parentNode.appendChild(t),t.appendChild(e)})(t.contentEl,o),R.create(`popup-product-preview-${s}`,null,t.contentEl.innerHTML,"popup--lg"),Ae.init(),I.setButtons(),O.setButtons()}}})}(s))}))}}})();var Me=s(4353);const Oe=(()=>{const e={questions:{block:".product-questions",status:".product-questions__status",slot:".product-questions__slot",more:".product-questions__more"}},t=document.querySelector(e.questions.block);let s=t?.querySelector(e.questions.status),o=t?.querySelector(e.questions.more),n=t?.dataset.id,i={id:n,page:1};const a=async e=>await u("/ajax/new/element_questions.php","GET",e);function r(t,s){const o=document.querySelector(e.questions.slot);if(o){const e=t.map((e=>function(e){const{author:t,photo:s,date:o,text:n,replies:i}=e,a=t?`<span class="product-question__author-placeholder">${t.charAt(0)}</span>`:"",r=s?`<img class="product-question__author-image" src="${s}" alt="${t}">`:"",l=t?`<span class="product-question__author-name">${t}</span>`:"",c=o?`<time class="product-question__pubdate" time="${o}" pubdate="">${Me(o).format("DD.MM.YYYY")}</time>`:"",d=n?`<div class="product-question__text"><b>Вопрос: </b>${n}</div>`:"",u=i.length>0?`<section class="product-question__replies">${i.map((e=>function(e){const{author:t,photo:s,date:o,text:n}=e,i=t?`<span class="product-reply__author-placeholder">${t.charAt(0)}</span>`:"";return`\n      <article class="product-reply">\n        <header class="product-reply__author">\n          ${s?s?`<img class="product-reply__author-image" src="${s}" alt="${t}">`:"":i}\n          ${t?`<span class="product-reply__author-name">${t}</span>`:""}\n          ${o?`<time class="product-reply__pubdate" time="${o}" pubdate="">${Me(o).format("DD.MM.YYYY")}</time>`:""}\n        </header>\n        ${n?`<section class="product-reply__body"><b>Ответ: </b>${n}</section>`:""}\n      </article>\n    `}(e))).join("")}</section>`:"";return`\n      <article class="product-question">\n        <header class="product-question__author">\n          ${s?r:a}\n          ${l}\n          ${c}\n        </header>\n        <section class="product-question__body">\n          ${d}\n        </section>\n        ${u}\n      </article>\n    `}(e))).join("");s?o.insertAdjacentHTML("beforeend",e):o.innerHTML=e}}function l(e){o.setAttribute("data-page",e.page),o.setAttribute("data-total",e.total_pages),o.classList.toggle("hidden",e.page==e.total_pages)}return{init:function(){(function(){const t=(o=()=>async function(e){try{const t=await a(e);0===t.questions.length?s.textContent="Пока вопросов про этот товар нет":(s.classList.add("hidden"),r(t.questions)),l(t)}catch(e){console.log(e)}}(i),new IntersectionObserver((async(e,t)=>{for(const s of e)if(s.isIntersecting){const e=s.target;try{o()}catch(e){d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()}finally{t.unobserve(e)}}})));var o;document.querySelectorAll(e.questions.block)?.forEach((e=>t.observe(e)))})(),document.addEventListener("click",(async t=>{let s=t.target.closest(e.questions.more);if(s){t.preventDefault();let e=parseInt(s.dataset.page);if(e<parseInt(s.dataset.total)){i.page=e+1;try{s.disabled=!0,m(s,"ui--spinner","spin text-primary","md");let e=await a(i);r(e.questions,!0),l(e)}catch(e){console.log(e)}finally{s.disabled=!1,h(s)}}}}))}}})(),Ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sm";const s=Math.max(0,Math.min(5,Math.round(Number(e)||0))),o=`<svg class="svg-icon svg-icon--${t}"><use xlink:href="/assets/img/sprites/sprite.svg#ui--star-fill"></use></svg>`;return`<div class="stars">${`<span class="stars__item is-active">${o}</span>`.repeat(s)}${`<span class="stars__item">${o}</span>`.repeat(5-s)}</div>`},je=(()=>{const e={reviews:{block:".product-reviews",controls:".product-reviews__controls",sort:".product-reviews__sort",filter:".product-reviews__filter",status:".product-reviews__status",slot:".product-reviews__slot",more:".product-reviews__more"},rating:{slot:".product-rating__slot"}},t=document.querySelector(e.reviews.block);let s=t?.querySelector(e.reviews.controls),o=t?.querySelector(e.reviews.status),n=t?.querySelector(e.reviews.more),i=t?.dataset.id,a={id:i,source:"all",order:"date",dir:"desc",page:1};const r=async e=>await u("/ajax/new/element_reviews.php","GET",e);function l(t,s){const o=document.querySelector(e.reviews.slot);if(o){const e=t.map((e=>function(e){const{source:t,author:s,photo:o,date:n,rate:i,pros:a,cons:r,text:l}=e,c=s?`<span class="product-review__author-placeholder">${s.charAt(0)}</span>`:"";return`\n      <article class="product-review">\n        <header class="product-review__author">\n          ${o?o?`<img class="product-review__author-image" src="${o}" alt="${s}">`:"":c}\n          ${s?`<span class="product-review__author-name">${s}</span>`:""}\n          ${n?`<time class="product-review__pubdate" time="${n}" pubdate="">${Me(n).format("DD.MM.YYYY")}</time>`:""}\n        </header>\n        <section class="product-review__rating">\n          ${"yandex"===t?'<div class="product-review__external"><img src="/assets/img/icons/yamarket.svg" alt="Отзыв на яндекс маркете" title="Отзыв на яндекс маркете"></div>':""}\n          ${null!=i?Ce(i):""}\n        </section>\n        <section class="product-review__body">\n          ${a?`<div class="product-review__pros"><b>Достоинства: </b>${a}</div>`:""}\n          ${r?`<div class="product-review__cons"><b>Недостатки: </b>${r}</div>`:""}\n          ${l?`<div class="product-review__text"><b>Отзыв: </b>${l}</div>`:""}\n        </section>\n      </article>\n    `}(e))).join("");s?o.insertAdjacentHTML("beforeend",e):o.innerHTML=e}}function c(e){n.setAttribute("data-page",e.page),n.setAttribute("data-total",e.total_pages),n.classList.toggle("hidden",e.page==e.total_pages)}function p(){const t=(n=()=>async function(t){try{const n=await r(t);0===n.reviews.length?o.textContent="Пока отзывов на этот товар нет":(s.classList.remove("hidden"),o.classList.add("hidden"),l(n.reviews),function(t){const s=document.querySelector(e.rating.slot),o=`<div class="product-rating">\n        <div class="row g-3 g-lg-4">\n          <div class="col-12 col-md-6 col-lg-12">\n            <div class="product-rating__score">${t.avg}</div>\n            <div class="my-3">\n              ${Ce(t.avg)}\n            </div>\n            <p class="m-0 fs-5 text-dark text-center">Cредняя оценка на основании ${t.total} ${n=t.total,i=["отзыва","отзывов","отзывов"],i[n%100>4&&n%100<20?2:[2,0,1,1,1,2][n%10<5?n%10:5]]} покупателей</p>\n          </div>\n          <div class="col-12 col-md-6 col-lg-12">\n            ${function(e){const t=Object.values(e).reduce(((e,t)=>e+t),0);let s="";for(let o=5;o>=1;o--){const n=e[o]||0,i=t>0?Math.round(n/t*100):0;s+=`\n        <li class="product-rating__stats-row">\n          <span class="product-rating__stats-key">${o}</span>\n          <progress class="product-rating__stats-progress" value="${i}" max="100"></progress>\n          <span class="product-rating__stats-value">${i}%</span>\n        </li>`}return`<ul class="product-rating__stats">${s}</ul>`}(t.rates)}\n          </div>\n        </div>\n      </div>`;var n,i;s&&s.insertAdjacentHTML("afterbegin",o)}(n.stat)),c(n)}catch(e){console.log(e)}}(a),new IntersectionObserver((async(e,t)=>{for(const s of e)if(s.isIntersecting){const e=s.target;try{n()}catch(e){d({text:e.message,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,className:"fs-4 bg-danger bg-gradient"}).showToast()}finally{t.unobserve(e)}}})));var n;document.querySelectorAll(e.reviews.block)?.forEach((e=>t.observe(e)))}return{init:function(){p(),document.addEventListener("change",(async t=>{let s=t.target.closest(e.reviews.sort),o=t.target.closest(e.reviews.filter);if(s){a.page=1,a.order=s.value,a.dir=s.options[s.selectedIndex].dataset.dir;try{let e=await r(a);l(e.reviews,!1),c(e)}catch(e){console.log(e)}}if(o){a.source=o.value,a.page=1;try{let e=await r(a);l(e.reviews,!1),c(e)}catch(e){console.log(e)}}})),document.addEventListener("click",(async t=>{let s=t.target.closest(e.reviews.more);if(s){t.preventDefault();let e=parseInt(s.dataset.page);if(e<parseInt(s.dataset.total)){a.page=e+1;try{s.disabled=!0,m(s,"ui--spinner","spin text-primary","md");let e=await r(a);l(e.reviews,!0),c(e)}catch(e){console.log(e)}finally{s.disabled=!1,h(s)}}}}))}}})(),Pe=(()=>{const e=document.querySelector(".product-slider__images"),t=document.querySelector(".product-slider__images-pagination"),s=document.querySelector(".product-slider__thumbs"),o=document.querySelector(".product-slider__thumbs-prev"),n=document.querySelector(".product-slider__thumbs-next");let a=null,r=null;return{init:function(){s&&e&&(function(){const e={loop:!1,direction:"vertical",freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},mousewheel:{forceToAxis:!0},watchSlidesProgress:!0,pagination:!1,slidesPerView:5,spaceBetween:10,navigation:{enabled:!0,nextEl:o,prevEl:n}};a=new i.A(s,e),a.on("sliderFirstMove",(()=>{M.hide()})),o.addEventListener("click",(()=>r.slidePrev())),n.addEventListener("click",(()=>r.slideNext()))}(),function(){const s={loop:!1,freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},mousewheel:{forceToAxis:!0},watchSlidesProgress:!0,pagination:{enabled:!0,el:t,type:"bullets",clickable:!0},slidesPerView:1,spaceBetween:16,thumbs:{swiper:a,multipleActiveThumbs:!1},breakpoints:{1024:{pagination:{enabled:!1}}}};r=new i.A(e,s),r.on("sliderFirstMove",(()=>{M.hide()}))}())}}})(),$e=function(){qe.init(),xe.init(),Oe.init(),je.init(),Pe.init()},Ie={init:function(){let e=document.querySelectorAll(".products-slider"),t=document.querySelectorAll(".products-slider__pagination");e.forEach(((e,s)=>{if(!e.swiper){const o=e.querySelectorAll(".swiper-slide").length,n={};let a,r=e.getAttribute("data-swiper")||{};W(r)||(a=JSON.parse(r)),o<3?(n[1024]=o,n[768]=o,n[640]=o):(n[1024]=4,n[768]=3,n[640]=2.2);const l={loop:!0,freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},mousewheel:{forceToAxis:!0},watchSlidesProgress:!0,pagination:{el:t[s],type:"bullets",clickable:!0},slidesPerView:1.1,spaceBetween:16,breakpoints:{640:{slidesPerView:n[640],spaceBetween:16},768:{slidesPerView:n[768],spaceBetween:16},1024:{slidesPerView:n[1024],spaceBetween:8}}},c=Object.assign({},l,a);new i.A(e,c).on("sliderFirstMove",(()=>{M.hide()}))}}))}},He=function(){n.lX.bind(".js-shop-gallery a",{groupAll:!0,l10n:g,hideScrollbar:!0,Thumbs:{type:"classic"},Toolbar:{display:{left:[],middle:[],right:["thumbs","close"]}}})},De={init:function(){let e=document.querySelectorAll(".shop-slider"),t=document.querySelectorAll(".shop-slider__prev"),s=document.querySelectorAll(".shop-slider__next");e.length>0&&e.forEach(((e,o)=>{e.swiper||new i.A(e,{loop:!0,mousewheel:{forceToAxis:!0},watchSlidesProgress:!0,navigation:{enabled:!1},slidesPerView:1.2,spaceBetween:16,breakpoints:{640:{slidesPerView:2,spaceBetween:16,navigation:{enabled:!1}},1024:{slidesPerView:3,spaceBetween:24,navigation:{enabled:!0,nextEl:s[o],prevEl:t[o]}}}})}))}};var Be=s(1669);const Ne=function(){var e=Be(".ymap"),t=Be(".shops-map"),s=Be(".shops-map__item",t),o=Be(".shops-map__city",t);s.on("click",(function(){var t=Be(this).data("coords");return e.trigger("setCenter.block",[t.split(","),14,t]),!1})),o.on("click",(function(){var t=Be(this).data("coords");return e.trigger("setCenter.block",[t.split(","),12,t]),!1})),e.on("mapReady.block",(function(){e.trigger("resetPlacemarks.block"),s.each((function(){var t=Be(this);setTimeout((function(){e.trigger("setPlacemark.block",[{key:t.data("coords"),coords:t.data("coords").split(","),title:Be(".ymap__balloon-title",t).html(),address:Be(".ymap__balloon-address",t).html(),description:Be(".ymap__balloon-description",t).html(),pickup:Be(".ymap__balloon-pickup",t).html(),phone:Be(".ymap__balloon-phone",t).html(),hours:Be(".ymap__balloon-hours",t).html(),link:t.data("link"),type:t.closest(".b-shops-list__group").find(".b-shops-list__group-name").data("map-title")}])}),300)}))}))},Re={init:function(){let e=document.querySelectorAll(".shops-slider"),t=document.querySelectorAll(".shops-slider__prev"),s=document.querySelectorAll(".shops-slider__next"),o=document.querySelectorAll(".shops-slider__pagination");e.length>0&&e.forEach(((e,n)=>{e.swiper||new i.A(e,{loop:!0,freeMode:{enabled:!0,sticky:!0,momentumBounceRatio:.05,momentumRatio:.05,momentumVelocityRatio:3},mousewheel:{forceToAxis:!0},watchSlidesProgress:!0,navigation:{enabled:!1,nextEl:s[n],prevEl:t[n]},pagination:{enabled:!0,el:o[n],type:"bullets",clickable:!0},slidesPerView:1,spaceBetween:16,breakpoints:{640:{slidesPerView:2,spaceBetween:16,navigation:{enabled:!1,nextEl:s[n],prevEl:t[n]},pagination:{enabled:!0,el:o[n],type:"bullets",clickable:!0}},1024:{slidesPerView:3,spaceBetween:24,navigation:{enabled:!0,nextEl:s[n],prevEl:t[n]},pagination:{enabled:!1}}}})}))}},Fe={init:function(){let e=document.querySelectorAll(".shop-thumbs"),t=document.querySelectorAll(".shop-thumbs__prev"),s=document.querySelectorAll(".shop-thumbs__next");e.length>0&&e.forEach(((e,o)=>{new i.A(e,{loop:!1,navigation:{enabled:!1},slidesPerView:2.5,spaceBetween:16,breakpoints:{640:{slidesPerView:4,spaceBetween:16,navigation:{enabled:!1}},1024:{slidesPerView:5,spaceBetween:24,navigation:{enabled:!0,nextEl:s[o],prevEl:t[o]}}}})}))}};s(1973);const Ve=(()=>{const e=".sidebar",t=".js-button-sidebar",s=document.querySelector(e),o=document.querySelectorAll(t);if(!s)return console.warn("Элемент .sidebar не найден"),{init(){},open(){},close(){},toggle(){},destroy(){}};let n=null;const i={sidebar:s,triggers:o,init(){n=new SlideMenu(s,{position:"left",showBackLink:!1}),(0,U.s)(K,["isMobile","catalogIsOpen"],(e=>{e.catalogIsOpen&&i.close(),e.isMobile||i.close()})),window.addEventListener("click",(s=>{const o=s.target.closest(t),n=s.target.closest(".sidebar-menu__close"),a=!s.target.closest(e)&&!s.target.closest(t)&&!s.target.closest(".form-searchbox")&&!s.target.closest(".header-logo")&&!s.target.closest(".header-toolbar__item")&&K.get().sidebarIsOpen;o&&i.toggle(),n&&(s.preventDefault(),i.close()),a&&i.close()}))},open(){K.get().isMobile&&ee(),n?.open(),s?.classList.add("is-active"),o?.forEach((e=>{e.classList.add("is-active"),se.removeToolbarActiveItems(e)})),K.setKey("sidebarIsOpen",!0)},close(){K.get().isMobile&&te(),n?.close(),s?.classList.remove("is-active"),o?.forEach((e=>{e.classList.remove("is-active")})),K.setKey("sidebarIsOpen",!1)},toggle(){K.get().sidebarIsOpen?i.close():i.open()},destroy(){i.close(),n&&(n.destroy?.(),n=null),K.setKey("sidebarIsOpen",!1)}};return i})(),Ge=(()=>{const e=".js-slider-filter",t="data-filter",s="data-slider-id",o="data-section",n="is-active";return{init:function(){document.addEventListener("click",(i=>{const a=i.target.closest(`${e} [${t}]`);if(!a)return;const r=a.closest(e);if(!r)return;if(a.classList.contains(n))return;i.preventDefault();const l=r.getAttribute(s),c=document.getElementById(l);var d,u,p;c&&c.swiper?(u=c.swiper,p=a.getAttribute(t),u.slides.forEach((e=>{const t=e.getAttribute(o);e.style.display="all"===p||t===p?"":"none"})),u.update(),u.pagination.update(),d=a,r.querySelectorAll(`[${t}]`).forEach((e=>{e.classList.remove(n)})),d.classList.add(n)):console.warn(`Слайдер с айди "${l}" не найден или на нем нет свайпера`)}))}}})(),ze=(()=>{function e(){c.init({speed:250,single:!1}),F.init(),V.init(),I.init(),ie.init(),ne.init(),D.init(),ae.init(),ce.init(),pe.init(),j.set(I.items.total),P.set(O.comparison.uniqueCount),$.set(O.favorites.uniqueCount),he.init(),S.init(),ye.init(),se.init(),H.init(),J.init(),be.init(),_e.init(),fe.init(),Le.init(),Se.init(),ke.init(),Ae.init(),Te.init(),R.init(),$e(),Ie.init(),B(),He(),De.init(),Ne(),Re.init(),Fe.init(),Ve.init(),Ge.init(),r(),M.init(),O.init()}return{init:function(){window.accordion=c,window.autoComplete=o,window.cart=I,window.Fancybox=n.lX,window.popup=R,window.Swiper=i.A,window.tippy=a.Ay,window.tooltip=M,window.userList=O,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}}})();(async function(){})().then((()=>{ze.init()})).catch((e=>{ze.init()}))}},s={};function o(e){var n=s[e];if(void 0!==n)return n.exports;var i=s[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,s,n,i)=>{if(!s){var a=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],i=e[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](s[l])))?s.splice(l--,1):(r=!1,i<a&&(a=i));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,n,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,s)=>{var n,i,a=s[0],r=s[1],l=s[2],c=0;if(a.some((t=>0!==e[t]))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)var d=l(o)}for(t&&t(s);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},s=self.webpackChunkogo_clean=self.webpackChunkogo_clean||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=o.O(void 0,[593],(()=>o(7386)));n=o.O(n)})();